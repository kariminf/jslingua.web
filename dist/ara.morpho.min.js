!function(){"use strict";let e={};"object"==typeof module&&module&&"object"==typeof module.exports?(e=require("../morpho.js"),module.exports=u):(e=window.JsLingua.Cls.Morpho,window.JsLingua.addService("Morpho","ara",u));let t=e.Feature,r=t.Tense,n=t.Mood,l=t.Voice,i=t.Number,s=t.Gender,c=t.Person;function u(){e.call(this,"ara"),e.newStemmer.call(this,"IsriAraStemmer","ISRI Arabic stemmer",F),e.newStemmer.call(this,"jslinguaAraStemmer","JsLingua Arabic stemmer",b)}u.prototype=Object.create(e.prototype);let o=u.prototype;o.constructor=u,o.getTenseName=function(e){switch(e){case r.Pa:return"الماضي";case r.Pr:return"المضارع";case r.Fu:return"المستقبل"}return""},o.getPronounOpts=function(){return[{person:c.F,number:i.S},{person:c.F,number:i.P},{person:c.S,number:i.S,gender:s.M},{person:c.S,number:i.S,gender:s.F},{person:c.S,number:i.D,gender:s.M},{person:c.S,number:i.D,gender:s.F},{person:c.S,number:i.P,gender:s.M},{person:c.S,number:i.P,gender:s.F},{person:c.T,number:i.S,gender:s.M},{person:c.T,number:i.S,gender:s.F},{person:c.T,number:i.D,gender:s.M},{person:c.T,number:i.D,gender:s.F},{person:c.T,number:i.P,gender:s.M},{person:c.T,number:i.P,gender:s.F}]},o.getForms=function(){let t=e.prototype.getForms.call(this);const r={Imperative:{mood:n.Imp}};return Object.assign({},t,r)};const a={[r.Pr]:{prefix:["أَ","نَ","تَ","تَ","تَ","تَ","تَ","تَ","يَ","تَ","يَ","تَ","يَ","يَ"],suffix:["ُ","ُ","ُ","ِينَ","َانِ","َانِ","ُونَ","ْنَ","ُ","ُ","َانِ","َانِ","ُونَ","ْنَ"]},[r.Pa]:{prefix:[],suffix:["ْتُ","ْنَا","ْتَ","ْتِ","ْتُمَا","ْتُمَا","ْتُمْ","ْتُنَّ","َ","َتْ","َا","َتَا","ُوا","ْنَ"]}};function f(e){if(e.person===c.F)return e.number===i.S?0:1;return 6*(Object.values(c).indexOf(e.person)-1)+2*Object.values(i).indexOf(e.number)+Object.values(s).indexOf(e.gender)+2}let p={verb:"",filter:"",len:0,wb:!1,wm:!1,we:!1,m:!1};function $(e,t,n){let i=e.v,s=function(e,t){if(x.verb===e)return x.res;if(x.verb=e,t.length>3)return x.res=2,2;let r=t[0]+t[2],n=0;m[r]?n=1:h[r]&&(n=2);return x.res=n,n}(i,p.filter),c="َُِ"[s],u="";if(t.tense===r.Pa)u=3===p.len?"ُ":"َ",13===n||n<8?((i=i.replace(/^(.+)ا(.َ?)$/,"$1$2")).startsWith("آ")&&(i="أ"+i.slice(1)),0===s&&(c="ِ")):(u="",c="َ");else{let e="اوي"[s];t.voice!==l.P?([7,13].indexOf(n)>-1&&(e=""),i=i.replace(/^(.+)ا(.َ?)$/,"$1"+e+"$2")):(c="َ",u="X")}e.v=i,e.dV=c,e.dR=u}function d(e,t,n){let i=e.v,s=e.dR;s="َ",i=i.slice(0,-1),t.voice===l.P?t.tense===r.Pa||[4,5,7,10,11,13].indexOf(n)>-1?(i+="ي",s="ِ"):i+="ى":p.filter.endsWith("ى")?(i+="ي",t.tense!==r.Pa&&(s="ِ")):(i+="و",t.tense!==r.Pa&&(s="ُ")),e.v=i,e.dR=s,function(e,t,n){let i=e.v,s=e.p,c=e.s;if(n.tense===r.Pa){if(n.voice!==l.P)if(8===t){s=c="";let e=i.slice(-1);i=i.slice(0,-1),i+="ي"===e?"ى":"ا"}else[9,11,12].indexOf(t)>-1&&(i=i.slice(0,-1),/[وي]$/.test(i)&&(i=i.slice(0,-1)))}else[0,1,2,8,9].indexOf(t)>-1?(n.negated&&e.t===r.Pa&&(i=i.slice(0,-1)),n.voice!==l.P&&n.negated&&e.t!==r.Pa||(c="")):[3,6,12].indexOf(t)>-1&&(i=i.slice(0,-1),/[وي]$/.test(i)&&(i=i.slice(0,-1)));e.v=i,e.p=s,e.s=c}(e,n,t)}function g(e){if(e.voice===l.P){if(e.mood===n.Imp)return!0;if(p.len>4){let e=p.filter;if(e.startsWith("ت"))return!0;if(/^ان.{3}$/.test(e))return!0;if(/^ا.{3}$/.test(e))return!0}}return e.mood===n.Imp&&e.person!==c.S}o.conjugate=function(e,t){if(t.mood===n.Imp)return function(e,t){if(g(t))return"";let i=Object.assign({},t);i.mood=n.Ind,i.tense=r.Pa,i.voice=l.A,i.negated=1;let s=u.prototype.conjugate(e,i);if(t.negated)return"لَا "+s;s=s.slice(2);let c="";return p.wb?/^أ.{3}$/.test(p.filter)?c="أَ":p.filter.startsWith("ا")&&(c="ا"):/[َُِ]/.test(s[1])||/^ت.(ا.|.).$/.test(p.filter)||(c="ا"),c+s}(e,t);if(function(e){if((e=(e=e.trim()).replace(/^(.َ?.)َ?$/,"$1َّ"))===p.verb)return;p.verb=e;let t=e.replace("آ","أا");t=(t=/َ?ّ$/.test(e)?t+t.slice(-1):t).replace(/[َُِّْ]/gi,""),p.filter=t,p.len=t.length+e.replace(/[^ّ]/g,"").length,p.wb=/^[أاو]/.test(t),p.wm=/[اآ].$/.test(t),p.we=/[اى]$/.test(t),p.m=/َّ?$/.test(e)}(e),g(t))return"";let i=0;t.tense===r.Fu&&(i=1,t.tense=r.Pr);let s=f(t),c={v:e,t:t.tense,s:"",p:"",dV:t.tense===r.Pr?"ْ":"َ",dR:t.tense===r.Pr?"ِ":"َ"};!function(e,t,n){let l="";if(t.negated){let i=t.tense===r.Pa?"ْ":"َ";l=a[r.Pr].suffix[n],/[^ْ]ن[َِ]$/.test(l)?(l=l.slice(0,-2)).endsWith("و")&&(l+="ا"):/ن[َِ]$/.test(l)||(l=l.slice(0,-1)+i),t.tense=r.Pr,e.dV="ْ",e.dR="ِ"}else l=a[t.tense].suffix[n];e.s=l;let i=a[t.tense].prefix[n];i||(i=""),e.p=i}(c,t,s),function(e,t){let n=e.v,l=p.filter,i=e.dV,s=e.dR,c=e.p;3===p.len?(s="X",/[^أعحه][^أعحه]$/g.test(l)||/.ُ.[َُِ]?$/g.test(n)&&(s="")):l.startsWith("ت")&&(s="َ"),t.tense===r.Pr?4===p.len&&(c=c.slice(0,-1)+"ُ",i=/^.َ?(ا|.ّ)/.test(n)?"َ":"ْ"):4===p.len&&(s="َ",l.startsWith("أ")&&(i="ْ")),/^ان.{3}$/.test(l)&&(i="َ"),e.v=n,p.filter=l,e.dV=i,e.dR=s,e.p=c}(c,t),p.wb&&function(e,t){let n=e.v,i=p.filter,s=p.len;t.tense===r.Pr&&(n=t.voice!==l.P||3!==s||i.startsWith("أ")?n.slice(1):n.replace(/^(.)[َُِْ]/,"$1"),/^ا.ت..$/.test(i)&&(e.dV="َ")),/^ا.{3}$/.test(i)&&(e.dV="ْ"),e.v=n}(c,t),p.wm&&$(c,t,s),p.we&&d(c,t,s),p.m&&function(e,t,n){let l=e.v;t.tense===r.Pr?[7,13].indexOf(n)>-1?(l=l.replace(/^(.*)(.)َّ?$/,"$1$2َ$2ْ"),e.dR=p.len<4?"ُ":"ِ"):(l=l.replace(/َ$/,""),p.len>4?(e.dV="ْ",e.dR="َ"):(e.dV="ُ",e.dR="")):13===n||n<8?(e.dR="َ",l=l.replace(/^(.*)(.)َّ?$/,"$1$2َ$2ْ")):e.dR="",e.v=l}(c,t,s),function(e,t){if(t.voice!==l.P)return;let n=e.s,i=e.v;t.tense===r.Pa?(e.dV=p.wm?"ِ":"ُ",e.dR=p.wm?"X":"ِ",/^أ.{3}$/.test(p.filter)&&(e.dV="ْ",i=i.replace(/^أ[َُِْ]?/,"أُ"))):(e.p=e.p.slice(0,-1)+"ُ",e.dR=p.wm?"X":"َ",p.we&&n.startsWith("ْ")&&(n=n.slice(1))),e.s=n,e.v=i}(c,t),function(e){let t=e.dV,r=e.dR,n=e.v,l=p.filter,i=n.replace(/[َُِّْ]/g,""),s=p.len,c=p.wm&&2===i.length;t&&("X"===t&&(t=""),n=i.length<4||/^.ا../.test(i)?n.replace(/^(.)[َُِْ]?/,"$1"+t):i.startsWith("است")?n.replace(/(ا[َُِْ]?س[َُِْ]?ت)[َُِْ]?/,"$1"+t):5===s&&/^ا.{3}$/.test(l)?n.replace(/^(ا?[َُِْ]?.)[َُِْ]?/,"$1"+t):/ت.{3}/.test(i)?n.replace(/(.ّ?)[َُِْ]?(.[َُِْ]?)$/,"$1"+t+"$2"):n.replace(/(.*[^َُِْ])[َُِْ]?([^َُِْ][َُِْ]?[^َُِْ][َُِْ]?)$/,"$1"+t+"$2")),r&&!c&&("X"===r&&(r=""),p.we&&2===i.length?n=n.replace(/^(.[َُِْ]?.)[َُِْ]?/,"$1"+r):p.m&&2===i.length||(n=n.replace(/(.ّ?)[َُِْ]?(.ّ?)[َُِْ]?$/,"$1"+r+"$2"))),e.v=n}(c);let o=c.p;o+=/^[َُِْ]/.test(c.s)?c.v.replace(/[َُِْ]$/,""):c.v,o+=c.s,o=o.replace(/أْوِ/,"ؤُو").replace(/أَأْ/,"آ").replace(/أَا/,"آ").replace("أِي","ئِي").replace(/ِأ(.?)/,"ئ$1").replace(/(.)أُو/,"$1ؤُو").replace(/([ِي])ء([َُِْ].)/,"$1ئ$2").replace(/اءُ?و/,"اؤُو").replace("ِا","ِي").replace(/َا(.ْ)/,"َ$1").replace("ُا","ُو");o=o.replace(/ُو(.ْ)/,"ُ$1").replace("ُوْ","ُو");if(o=(o=o.replace(/ِي(.ْ)/,"ِ$1").replace("ِيْ","ِي")).replace(/(.)ْ\1([َُِ])/,"$1ّ$2"),i){let e="سَوْفَ ";t.negated&&(e="لَنْ "),o=e+o}return o.trim()};const m={"أب":1,"أج":1,"أد":1,"أر":1,"أز":1,"أش":1,"أض":1,"أف":1,"أق":1,"أل":1,"أن":1,"أه":1,"أي":1,"بب":1,"بح":1,"بخ":1,"بر":1,"بز":1,"بس":1,"بش":1,"بص":1,"بغ":1,"بق":1,"بل":1,"تب":1,"تج":1,"تق":1,"ثب":1,"ثر":1,"ثل":1,"ثي":1,"جب":1,"جح":1,"جد":1,"جر":1,"جز":1,"جس":1,"جط":1,"جع":1,"جف":1,"جق":1,"جل":1,"جن":1,"جو":1,"جي":1,"حب":1,"حت":1,"حث":1,"حج":1,"حذ":1,"حز":1,"حس":1,"حش":1,"حص":1,"حط":1,"حف":1,"حق":1,"حك":1,"حل":1,"حم":1,"حي":1,"خج":1,"خخ":1,"خذ":1,"خر":1,"خص":1,"خض":1,"خل":1,"خن":1,"خو":1,"خي":1,"دء":1,"دب":1,"دح":1,"دخ":1,"دد":1,"در":1,"دس":1,"دش":1,"دط":1,"دغ":1,"دف":1,"دق":1,"دك":1,"دل":1,"دم":1,"دن":1,"دي":1,"ذب":1,"ذد":1,"ذق":1,"ذي":1,"رب":1,"رث":1,"رج":1,"رح":1,"رد":1,"رز":1,"رس":1,"رض":1,"رع":1,"رغ":1,"رق":1,"رل":1,"رم":1,"ري":1,"زج":1,"زح":1,"زر":1,"زغ":1,"زق":1,"زل":1,"زم":1,"زن":1,"زي":1,"سء":1,"سج":1,"سخ":1,"سد":1,"سط":1,"سع":1,"سغ":1,"سف":1,"سق":1,"سك":1,"سم":1,"سي":1,"شب":1,"شر":1,"شش":1,"شط":1,"شظ":1,"شف":1,"شق":1,"شك":1,"شل":1,"شم":1,"شه":1,"شي":1,"صب":1,"صت":1,"صج":1,"صح":1,"صص":1,"صع":1,"صغ":1,"صف":1,"صل":1,"صم":1,"صن":1,"ضء":1,"ضج":1,"ضر":1,"ضي":1,"طح":1,"طد":1,"طس":1,"طع":1,"طف":1,"طق":1,"طل":1,"طي":1,"عج":1,"عد":1,"عذ":1,"عر":1,"عز":1,"عص":1,"عض":1,"عق":1,"عل":1,"عم":1,"عن":1,"عه":1,"عي":1,"غء":1,"غر":1,"غز":1,"غش":1,"غص":1,"غط":1,"غغ":1,"غل":1,"غي":1,"فت":1,"فج":1,"فح":1,"فد":1,"فر":1,"فز":1,"فط":1,"فع":1,"فف":1,"فق":1,"فل":1,"فه":1,"قب":1,"قت":1,"قد":1,"قر":1,"قش":1,"قص":1,"قض":1,"قط":1,"قع":1,"قق":1,"قل":1,"قم":1,"قن":1,"قه":1,"قي":1,"كب":1,"كخ":1,"كر":1,"كز":1,"كس":1,"كش":1,"كع":1,"كف":1,"كك":1,"كم":1,"كن":1,"كي":1,"لب":1,"لث":1,"لج":1,"لح":1,"لذ":1,"لز":1,"لس":1,"لص":1,"لط":1,"لع":1,"لف":1,"لك":1,"لم":1,"لي":1,"مء":1,"مت":1,"مج":1,"مر":1,"من":1,"مه":1,"نء":1,"نب":1,"نت":1,"نح":1,"نخ":1,"ند":1,"نر":1,"نس":1,"نش":1,"نص":1,"نط":1,"نع":1,"نف":1,"نق":1,"نن":1,"نه":1,"نو":1,"ني":1,"هت":1,"هد":1,"هر":1,"هس":1,"هش":1,"هع":1,"هل":1,"هن":1,"هو":1,"هي":1,"يد":1,"يم":1},h={"أب":1,"أد":1,"أر":1,"أس":1,"أض":1,"أك":1,"أل":1,"أم":1,"أن":1,"بت":1,"بد":1,"بض":1,"بع":1,"بن":1,"تح":1,"تر":1,"تس":1,"تل":1,"تم":1,"ته":1,"جء":1,"جش":1,"جف":1,"حث":1,"حد":1,"حر":1,"حض":1,"حف":1,"حق":1,"حك":1,"حن":1,"حو":1,"حي":1,"خب":1,"خس":1,"خش":1,"خط":1,"خل":1,"خم":1,"دث":1,"دك":1,"دن":1,"ذع":1,"ذل":1,"رب":1,"رس":1,"رش":1,"رع":1,"رف":1,"رل":1,"رن":1,"ري":1,"زت":1,"زح":1,"زد":1,"زز":1,"زغ":1,"زف":1,"زق":1,"زن":1,"زي":1,"سب":1,"سح":1,"سخ":1,"سر":1,"سف":1,"سل":1,"شب":1,"شت":1,"شح":1,"شخ":1,"شد":1,"شط":1,"شع":1,"شف":1,"شق":1,"شل":1,"شم":1,"شن":1,"صب":1,"صح":1,"صد":1,"صر":1,"صص":1,"صع":1,"صف":1,"ضر":1,"ضع":1,"ضف":1,"ضق":1,"ضم":1,"طب":1,"طح":1,"طر":1,"طش":1,"طع":1,"طن":1,"عب":1,"عث":1,"عر":1,"عس":1,"عش":1,"عط":1,"عف":1,"عن":1,"عه":1,"عي":1,"غب":1,"غث":1,"غد":1,"غر":1,"غض":1,"غط":1,"غظ":1,"غل":1,"غم":1,"غن":1,"غي":1,"فء":1,"فد":1,"فش":1,"فض":1,"فظ":1,"فف":1,"فل":1,"فن":1,"قء":1,"قح":1,"قر":1,"قس":1,"قش":1,"قض":1,"قظ":1,"قف":1,"قن":1,"قي":1,"كد":1,"كر":1,"كس":1,"كف":1,"كل":1,"كي":1,"لث":1,"لس":1,"لق":1,"لل":1,"لن":1,"لي":1,"مح":1,"مد":1,"مر":1,"مز":1,"مس":1,"مط":1,"مع":1,"مل":1,"من":1,"نق":1,"نك":1,"ني":1,"هء":1,"هب":1,"هت":1,"هج":1,"هر":1,"هش":1,"هض":1,"هط":1,"هف":1,"هل":1,"هم":1,"وب":1,"ول":1};let x={verb:"",res:""};const v=["أَنَا","نَحْنُ","أَنْتَ","أَنْتِ","أَنْتُمَا","أَنْتُمَا","أَنْتُمْ","أَنْتُنَّ","هُوَ","هِيَ","هُمَا","هُمَا","هُمْ","هُنَّ"];o.getPronounName=function(e){return v[f(e)]},o.normalize=function(e,t){let r=e.trim();return(!t||t.length<1)&&(t="voc,alef,yeh,teh,_"),t.includes("voc")&&(r=r.replace(/[َ ً ُ ٍ ْ ِ ٌ]/g,"")),t.includes("alef")&&(r=r.replace(/[أإآ]/g,"ا")),t.includes("ihamza")&&(r=r.replace(/^[أإآ]/g,"ا")),t.includes("yeh")&&(r=r.replace(/[ى]/g,"ي")),t.includes("teh")&&(r=r.replace(/[ة]/g,"ه")),t.includes("_")&&(r=r.replace(/[ـ]+/g,"")),r};function b(e){return e}let P=["ل","ب","ف","س","و","ي","ت","ن","ا"],w=["ال","لل"],S=["كال","بال","ولل","وال"],W=["ة","ه","ي","ك","ت","ا","ن"],O=["ون","ات","ان","ين","تن","كم","هن","نا","يا","ها","تم","كن","ني","وا","ما","هم"],R=["تمل","همل","تان","تين","كمل"];function F(e){let t=e,r=u.prototype.normalize;t=function(e){if(e.length>=6)for(let t in R)if(e.endsWith(R[t]))return e.slice(0,-3);if(e.length>=5)for(let t in O)if(e.endsWith(O[t]))return e.slice(0,-2);return e}(t=function(e){if(e.length>=6)for(let t in S)if(e.startsWith(S[t]))return e.slice(3);if(e.length>=5)for(let t in w)if(e.startsWith(w[t]))return e.slice(2);return e}(t=r(t,"voc")));var n;if((t=r(t=(n=t).length>=4&&n.startsWith("وو")?n.slice(1):n,"ihamza")).length<4)return t;switch(t.length){case 4:return V(t);case 5:return M(t=I(t));case 6:return X(t=T(t));case 7:return 7===(t=j(t)).length&&(t=y(t)),6===t.length&&(t=X(t=T(t))),t;default:return t}}function V(e){return e.startsWith("م")?e.slice(1):/^.ا/.test(e)?e[0]+e.slice(2):/^..[اوي]/.test(e)?e.slice(0,-2)+e[3]:"ة"===e[3]?e.slice(0,-1):(4===(e=j(e)).length&&(e=y(e)),e)}function j(e){for(let t in W)if(e.endsWith(W[t]))return e.slice(0,-1);return e}function y(e){for(let t in P)if(e.startsWith(P[t]))return e.slice(1);return e}function I(e){let t;return A(t=/^ا(.)[ات](.+)$/.exec(e))?t[1]+t[2]:A(t=/^م(..)[اوي](.)$/.exec(e))?t[1]+t[2]:A(t=/^[متا](.+)ة$/.exec(e))?t[1]:A(t=/^[ميت](.)ت(.+)$/.exec(e))?t[1]+t[2]:A(t=/^[مت](.)ا(.+)$/.exec(e))?t[1]+t[2]:A(t=/^(..)[وا](.)ة$/.exec(e))?t[1]+t[2]:A(t=/^[ام]ن(.+)$/.exec(e))?t[1]:A(t=/^ا(..)ا(.)$/.exec(e))?t[1]+t[2]:A(t=/^(...)ان$/.exec(e))?t[1]:A(t=/^ت(..)ي(.)$/.exec(e))?t[1]+t[2]:A(t=/^(.)ا(.)و(.)$/.exec(e))?t[1]+t[2]+t[3]:A(t=/^(.)وا(..)$/.exec(e))?t[1]+t[2]:A(t=/^(..)ائ(.)$/.exec(e))?t[1]+t[2]:A(t=/^(.)ا(..)ة$/.exec(e))?t[1]+t[2]:A(t=/^(..)ا(.)ي$/.exec(e))?t[1]+t[2]:(5===(e=j(e)).length&&(e=y(e)),e)}function M(e){return 4===e.length?V(e):5===e.length?function(e){let t;return A(t=/^[تام](.+)$/.exec(e))?t[1]:A(t=/^(.+)ة$/.exec(e))?t[1]:A(t=/^(..)ا(..)$/.exec(e))?t[1]+t[2]:e}(e):e}function T(e){let t;return A(t=/^[ام]ست(.+)$/.exec(e))?t[1]:A(t=/^م(..)ا(.)ة$/.exec(e))?t[1]+t[2]:A(t=/^ا(.)ت(.)ا(.)$/.exec(e))?t[1]+t[2]+t[3]:A(t=/^ا(.)(.)و\2(.)$/.exec(e))?t[1]+t[2]+t[3]:A(t=/^ت(.)ا(.)ي(.)$/.exec(e))?t[1]+t[2]+t[3]:(6===(e=j(e)).length&&(e=y(e)),e)}function X(e){return 5===e.length?M(e=I(e)):6===e.length?function(e){let t;return A(t=/^ا(...)ا(.)$/.exec(e))?t[1]+t[2]:A(t=/^مت(.+)$/.exec(e))?t[1]:e}(e):e}function A(e){return null!=e}}();