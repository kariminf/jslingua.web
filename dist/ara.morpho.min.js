!function(){"use strict";function e(){b.call(this,"ara"),b.newStemmer.call(this,"jslinguaAraStemmer","JsLingua Arabic stemmer",g)}function r(e){return e.person===S.F?e.number===w.S?0:1:6*(Object.values(S).indexOf(e.person)-1)+2*Object.values(w).indexOf(e.number)+Object.values(x).indexOf(e.gender)+2}function n(e){if(e=e.trim(),(e=e.replace(/^(.َ?.)َ?$/,"$1َّ"))===F.verb)return;F.verb=e;let r=e.replace("آ","أا");r=(r=/َ?ّ$/.test(e)?r+r.slice(-1):r).replace(/[َُِّْ]/gi,""),F.filter=r,F.len=r.length+e.replace(/[^ّ]/g,"").length,F.wb=/^[أاو]/.test(r),F.wm=/[اآ].$/.test(r),F.we=/[اى]$/.test(r),F.m=/َّ?$/.test(e)}function t(e,r,n){let t="";if(r.negated){let l=r.tense===P.Pa?"ْ":"َ";t=O[P.Pr].suffix[n],/[^ْ]ن[َِ]$/.test(t)?(t=t.slice(0,-2)).endsWith("و")&&(t+="ا"):t=t.slice(0,-1)+l,r.tense=P.Pr,e.dV="ْ",e.dR="ِ"}else t=O[r.tense].suffix[n];e.s=t;let l=O[r.tense].prefix[n];l||(l=""),e.p=l}function l(e,r){let n=e.v;r.tense===P.Pr&&(n=r.voice===h.P?n.replace(/^(.)[َُِْ]/,"$1"):n.slice(1),e.dV=""),e.v=n}function s(e,r,n){let t=e.v,l=$(t,F.filter),s="َُِ"[l],c="";if(r.tense===P.Pa)c=3===F.len?"ُ":"َ",13===n||n<8?((t=t.replace(/^(.+)ا(.َ?)$/,"$1$2")).startsWith("آ")&&(t="أ"+t.slice(1)),0===l&&(s="ِ")):(c="",s="َ");else{let e="اوي"[l];r.voice!==h.P?([7,13].indexOf(n)>-1&&(e=""),t=t.replace(/^(.+)ا(.َ?)$/,"$1"+e+"$2")):s="َ"}e.v=t,e.dV=s,e.dR=c}function c(e,r){let n=e.v;r.tense===P.Pa&&(e.dR="َ"),n=n.slice(0,-1),r.voice===h.P?r.tense===P.Pa?n+="ي":n+="ى":F.filter.endsWith("ى")?n+="ي":n+="و",e.v=n}function i(e,r,n){let t=e.v;r.tense===P.Pr?[7,13].indexOf(n)>-1?(t=t.replace(/^(.*)(.)َّ?$/,"$1$2َ$2ْ"),e.dR=F.len<4?"ُ":"ِ"):(t=t.replace(/َ$/,""),F.len>4?(e.dV="ْ",e.dR="َ"):(e.dV="ُ",e.dR="")):13===n||n<8?(e.dR="َ",t=t.replace(/^(.*)(.)َّ?$/,"$1$2َ$2ْ")):e.dR="",e.v=t}function u(e,r){r.voice===h.P&&(r.tense===P.Pa?(e.dV=F.wm?"ِ":"ُ",e.dR="ِ"):(e.p=e.p.slice(0,-1)+"ُ",e.dR="َ"))}function o(e,r){let n=e.v,t=F.filter,l=e.dV,s=e.dR,c=e.p;3===F.len?(s="X",/[^أعحه][^أعحه]$/g.test(t)||/.ُ.[َُِ]?$/g.test(n)&&(s="")):t.startsWith("ت")&&(s="َ"),r.tense===P.Pr?4===F.len&&(c=c.slice(0,-1)+"ُ",l=/^.َ?(ا|.ّ)/.test(n)?"َ":"ْ"):4===F.len&&(s="َ",t.startsWith("أ")&&(l="ْ")),e.v=n,F.filter=t,e.dV=l,e.dR=s,e.p=c}function a(e){let r=e.dV,n=e.dR,t=e.v,l=t.replace(/[َُِّْ]/g,""),s=F.wm&&2===l.length;r&&("X"===r&&(r=""),t=l.length<4||/^.ا../.test(l)?t.replace(/^(.)[َُِْ]?/,"$1"+r):l.startsWith("است")?t.replace(/(ا[َُِْ]?س[َُِْ]?ت)[َُِْ]?/,"$1"+r):/ت.{3}/.test(l)?t.replace(/(.ّ?)[َُِْ]?(.[َُِْ]?)$/,"$1"+r+"$2"):t.replace(/(.*[^َُِْ])[َُِْ]?([^َُِْ][َُِْ]?[^َُِْ][َُِْ]?)$/,"$1"+r+"$2")),n&&!s&&("X"===n&&(n=""),F.m&&2===l.length||(t=t.replace(/(.ّ?)[َُِْ]?(.ّ?)[َُِْ]?$/,"$1"+n+"$2"))),e.v=t}function p(e){return e=e.replace(/ِي(.ْ)/,"ِ$1")}function d(e){return e=e.replace(/ُو(.ْ)/,"ُ$1")}function f(e){return e=e.replace(/أْوِ/,"ؤُو"),e=e.replace(/أَأْ/,"آ"),e=e.replace(/أَا/,"آ"),e=e.replace("أِي","ئِي"),e=e.replace(/ِأ(.?)/,"ئ$1"),e=e.replace(/(.)أُو/,"$1ؤُو"),e=e.replace(/([ِي])ء([َُِْ].)/,"$1ئ$2"),e=e.replace(/اءُ?و/,"اؤُو"),e=e.replace("ِا","ِي"),e=e.replace(/ا(.ْ)/,"$1"),e=e.replace("ُا","ُو")}function $(e,r){if(M.verb===e)return M.res;if(M.verb=e,r.length>3)return M.res=2,2;let n=r[0]+r[2],t=0;return V[n]?t=1:j[n]&&(t=2),M.res=t,t}function m(e,r,n){let t=e.v,l=e.p,s=e.s;if(n===P.Pa)if(8===r){l=s="";let e=t.slice(-1);t=t.slice(0,-1),t+="ي"===e?"ى":"ا"}else[9,11,12].indexOf(r)>-1&&(t=t.slice(0,-1),/[وي]$/.test(t)&&(t=t.slice(0,-1)));else[0,1,2,8,9].indexOf(r)>-1?s="":[3,6,12].indexOf(r)>-1&&(t=t.slice(0,-1),/[وي]$/.test(t)&&(t=t.slice(0,-1)));e.v=t,e.p=l,e.s=s}function g(e){return e}let b={};"object"==typeof module&&module&&"object"==typeof module.exports?(b=require("../morpho.js"),module.exports=e):(b=window.JsLingua.Cls.Morpho,window.JsLingua.addService("Morpho","ara",e));let v=b.Feature,P=v.Tense,h=v.Voice,w=v.Number,x=v.Gender,S=v.Person,R=e.prototype=Object.create(b.prototype);R.constructor=e,R.getTenseName=function(e){switch(e){case P.Pa:return"الماضي";case P.Pr:return"المضارع";case P.Fu:return"المستقبل"}return""},R.getPronounOpts=function(){return[{person:S.F,number:w.S},{person:S.F,number:w.P},{person:S.S,number:w.S,gender:x.M},{person:S.S,number:w.S,gender:x.F},{person:S.S,number:w.D,gender:x.M},{person:S.S,number:w.D,gender:x.F},{person:S.S,number:w.P,gender:x.M},{person:S.S,number:w.P,gender:x.F},{person:S.T,number:w.S,gender:x.M},{person:S.T,number:w.S,gender:x.F},{person:S.T,number:w.D,gender:x.M},{person:S.T,number:w.D,gender:x.F},{person:S.T,number:w.P,gender:x.M},{person:S.T,number:w.P,gender:x.F}]};const O={[P.Pr]:{prefix:["أَ","نَ","تَ","تَ","تَ","تَ","تَ","تَ","يَ","تَ","يَ","تَ","يَ","يَ"],suffix:["ُ","ُ","ُ","ِينَ","َانِ","َانِ","ُونَ","ْنَ","ُ","ُ","َانِ","َانِ","ُونَ","ْنَ"]},[P.Pa]:{prefix:[],suffix:["ْتُ","ْنَا","ْتَ","ْتِ","ْتُمَا","ْتُمَا","ْتُمْ","ْتُنَّ","َ","َتْ","َا","َتَا","ُوا","ْنَ"]}};let F={verb:"",filter:"",len:0,wb:!1,wm:!1,we:!1,m:!1};R.conjugate=function(e,$){n(e);F.filter;let g=0;$.tense===P.Fu&&(g=1,$.tense=P.Pr);let b=r($),v={v:e,s:"",p:"",dV:$.tense===P.Pr?"ْ":"َ",dR:$.tense===P.Pr?"ِ":"َ",dB:"ِ"};t(v,$,b),F.wb&&l(v,$),F.wm&&s(v,$,b),F.we&&c(v,$),F.m&&i(v,$,b),u(v,$),o(v,$),a(v),F.we&&m(v,b,$.tense);let h=v.p+v.v+v.s;if(h=f(h),h=d(h),h=p(h),h=h.replace(/(.)ْ\1([َُِ])/,"$1ّ$2"),g){let e="سَوْفَ ";$.negated&&(e="لَنْ "),h=e+h}return h.trim()};const V={"أب":1,"أج":1,"أد":1,"أر":1,"أز":1,"أش":1,"أض":1,"أف":1,"أق":1,"أل":1,"أن":1,"أه":1,"أي":1,"بب":1,"بح":1,"بخ":1,"بر":1,"بز":1,"بس":1,"بش":1,"بص":1,"بغ":1,"بق":1,"بل":1,"تب":1,"تج":1,"تق":1,"ثب":1,"ثر":1,"ثل":1,"ثي":1,"جب":1,"جح":1,"جد":1,"جر":1,"جز":1,"جس":1,"جط":1,"جع":1,"جف":1,"جق":1,"جل":1,"جن":1,"جو":1,"جي":1,"حب":1,"حت":1,"حث":1,"حج":1,"حذ":1,"حز":1,"حس":1,"حش":1,"حص":1,"حط":1,"حف":1,"حق":1,"حك":1,"حل":1,"حم":1,"حي":1,"خج":1,"خخ":1,"خذ":1,"خر":1,"خص":1,"خض":1,"خل":1,"خن":1,"خو":1,"خي":1,"دء":1,"دب":1,"دح":1,"دخ":1,"دد":1,"در":1,"دس":1,"دش":1,"دط":1,"دغ":1,"دف":1,"دق":1,"دك":1,"دل":1,"دم":1,"دن":1,"دي":1,"ذب":1,"ذد":1,"ذق":1,"ذي":1,"رب":1,"رث":1,"رج":1,"رح":1,"رد":1,"رز":1,"رس":1,"رض":1,"رع":1,"رغ":1,"رق":1,"رل":1,"رم":1,"ري":1,"زج":1,"زح":1,"زر":1,"زغ":1,"زق":1,"زل":1,"زم":1,"زن":1,"زي":1,"سء":1,"سج":1,"سخ":1,"سد":1,"سط":1,"سع":1,"سغ":1,"سف":1,"سق":1,"سك":1,"سم":1,"سي":1,"شب":1,"شر":1,"شش":1,"شط":1,"شظ":1,"شف":1,"شق":1,"شك":1,"شل":1,"شم":1,"شه":1,"شي":1,"صب":1,"صت":1,"صج":1,"صح":1,"صص":1,"صع":1,"صغ":1,"صف":1,"صل":1,"صم":1,"صن":1,"ضء":1,"ضج":1,"ضر":1,"ضي":1,"طح":1,"طد":1,"طس":1,"طع":1,"طف":1,"طق":1,"طل":1,"طي":1,"عج":1,"عد":1,"عذ":1,"عر":1,"عز":1,"عص":1,"عض":1,"عق":1,"عل":1,"عم":1,"عن":1,"عه":1,"عي":1,"غء":1,"غر":1,"غز":1,"غش":1,"غص":1,"غط":1,"غغ":1,"غل":1,"غي":1,"فت":1,"فج":1,"فح":1,"فد":1,"فر":1,"فز":1,"فط":1,"فع":1,"فف":1,"فق":1,"فل":1,"فه":1,"قب":1,"قت":1,"قد":1,"قر":1,"قش":1,"قص":1,"قض":1,"قط":1,"قع":1,"قق":1,"قل":1,"قم":1,"قن":1,"قه":1,"قي":1,"كب":1,"كخ":1,"كر":1,"كز":1,"كس":1,"كش":1,"كع":1,"كف":1,"كك":1,"كم":1,"كن":1,"كي":1,"لب":1,"لث":1,"لج":1,"لح":1,"لذ":1,"لز":1,"لس":1,"لص":1,"لط":1,"لع":1,"لف":1,"لك":1,"لم":1,"لي":1,"مء":1,"مت":1,"مج":1,"مر":1,"من":1,"مه":1,"نء":1,"نب":1,"نت":1,"نح":1,"نخ":1,"ند":1,"نر":1,"نس":1,"نش":1,"نص":1,"نط":1,"نع":1,"نف":1,"نق":1,"نن":1,"نه":1,"نو":1,"ني":1,"هت":1,"هد":1,"هر":1,"هس":1,"هش":1,"هع":1,"هل":1,"هن":1,"هو":1,"هي":1,"يد":1,"يم":1},j={"أب":1,"أد":1,"أر":1,"أس":1,"أض":1,"أك":1,"أل":1,"أم":1,"أن":1,"بت":1,"بد":1,"بض":1,"بع":1,"بن":1,"تح":1,"تر":1,"تس":1,"تل":1,"تم":1,"ته":1,"جء":1,"جش":1,"جف":1,"حث":1,"حد":1,"حر":1,"حض":1,"حف":1,"حق":1,"حك":1,"حن":1,"حو":1,"حي":1,"خب":1,"خس":1,"خش":1,"خط":1,"خل":1,"خم":1,"دث":1,"دك":1,"دن":1,"ذع":1,"ذل":1,"رب":1,"رس":1,"رش":1,"رع":1,"رف":1,"رل":1,"رن":1,"ري":1,"زت":1,"زح":1,"زد":1,"زز":1,"زغ":1,"زف":1,"زق":1,"زن":1,"زي":1,"سب":1,"سح":1,"سخ":1,"سر":1,"سف":1,"سل":1,"شب":1,"شت":1,"شح":1,"شخ":1,"شد":1,"شط":1,"شع":1,"شف":1,"شق":1,"شل":1,"شم":1,"شن":1,"صب":1,"صح":1,"صد":1,"صر":1,"صص":1,"صع":1,"صف":1,"ضر":1,"ضع":1,"ضف":1,"ضق":1,"ضم":1,"طب":1,"طح":1,"طر":1,"طش":1,"طع":1,"طن":1,"عب":1,"عث":1,"عر":1,"عس":1,"عش":1,"عط":1,"عف":1,"عن":1,"عه":1,"عي":1,"غب":1,"غث":1,"غد":1,"غر":1,"غض":1,"غط":1,"غظ":1,"غل":1,"غم":1,"غن":1,"غي":1,"فء":1,"فد":1,"فش":1,"فض":1,"فظ":1,"فف":1,"فل":1,"فن":1,"قء":1,"قح":1,"قر":1,"قس":1,"قش":1,"قض":1,"قظ":1,"قف":1,"قن":1,"قي":1,"كد":1,"كر":1,"كس":1,"كف":1,"كل":1,"كي":1,"لث":1,"لس":1,"لق":1,"لل":1,"لن":1,"لي":1,"مح":1,"مد":1,"مر":1,"مز":1,"مس":1,"مط":1,"مع":1,"مل":1,"من":1,"نق":1,"نك":1,"ني":1,"هء":1,"هب":1,"هت":1,"هج":1,"هر":1,"هش":1,"هض":1,"هط":1,"هف":1,"هل":1,"هم":1,"وب":1,"ول":1};let M={verb:"",res:""};const T=["أَنَا","نَحْنُ","أَنْتَ","أَنْتِ","أَنْتُمَا","أَنْتُمَا","أَنْتُمْ","أَنْتُنَّ","هُوَ","هِيَ","هُمَا","هُمَا","هُمْ","هُنَّ"];R.getPronounName=function(e){return T[r(e)]},R.normalize=function(e,r){let n=e.trim();return(!r||r.length<1)&&(r="voc,alef,yeh,teh,_"),r.includes("voc")&&(n=n.replace(/[َ ً ُ ٍ ْ ِ ٌ]/g,"")),r.includes("alef")&&(n=n.replace(/[أإآ]/g,"ا")),r.includes("yeh")&&(n=n.replace(/[ى]/g,"ي")),r.includes("teh")&&(n=n.replace(/[ة]/g,"ه")),r.includes("_")&&(n=n.replace(/[ـ]+/g,"")),n}}();