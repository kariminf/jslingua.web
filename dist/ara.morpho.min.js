!function(){"use strict";let e={};"object"==typeof module&&module&&"object"==typeof module.exports?(e=require("../morpho.js"),module.exports=v):(e=window.JsLingua.Cls.Morpho,window.JsLingua.aserv("morpho","ara",v));const t=e.Feature,n=t.Tense,r=t.Mood,i=t.Voice,l=t.Number,s=t.Gender,c=t.Person,u=["أَنَا","نَحْنُ","أَنْتَ","أَنْتِ","أَنْتُمَا","أَنْتُمَا","أَنْتُمْ","أَنْتُنَّ","هُوَ","هِيَ","هُمَا","هُمَا","هُمْ","هُنَّ"],o={[n.Pr]:{prefix:["أَ","نَ","تَ","تَ","تَ","تَ","تَ","تَ","يَ","تَ","يَ","تَ","يَ","يَ"],suffix:["ُ","ُ","ُ","ِينَ","َانِ","َانِ","ُونَ","ْنَ","ُ","ُ","َانِ","َانِ","ُونَ","ْنَ"]},[n.Pa]:{prefix:[],suffix:["ْتُ","ْنَا","ْتَ","ْتِ","ْتُمَا","ْتُمَا","ْتُمْ","ْتُنَّ","َ","َتْ","َا","َتَا","ُوا","ْنَ"]}},a={"أب":1,"أج":1,"أد":1,"أر":1,"أز":1,"أش":1,"أض":1,"أف":1,"أق":1,"أل":1,"أن":1,"أه":1,"أي":1,"بب":1,"بح":1,"بخ":1,"بر":1,"بز":1,"بس":1,"بش":1,"بص":1,"بغ":1,"بق":1,"بل":1,"تب":1,"تج":1,"تق":1,"ثب":1,"ثر":1,"ثل":1,"ثي":1,"جب":1,"جح":1,"جد":1,"جر":1,"جز":1,"جس":1,"جط":1,"جع":1,"جف":1,"جق":1,"جل":1,"جن":1,"جو":1,"جي":1,"حب":1,"حت":1,"حث":1,"حج":1,"حذ":1,"حز":1,"حس":1,"حش":1,"حص":1,"حط":1,"حف":1,"حق":1,"حك":1,"حل":1,"حم":1,"حي":1,"خج":1,"خخ":1,"خذ":1,"خر":1,"خص":1,"خض":1,"خل":1,"خن":1,"خو":1,"خي":1,"دء":1,"دب":1,"دح":1,"دخ":1,"دد":1,"در":1,"دس":1,"دش":1,"دط":1,"دغ":1,"دف":1,"دق":1,"دك":1,"دل":1,"دم":1,"دن":1,"دي":1,"ذب":1,"ذد":1,"ذق":1,"ذي":1,"رب":1,"رث":1,"رج":1,"رح":1,"رد":1,"رز":1,"رس":1,"رض":1,"رع":1,"رغ":1,"رق":1,"رل":1,"رم":1,"ري":1,"زج":1,"زح":1,"زر":1,"زغ":1,"زق":1,"زل":1,"زم":1,"زن":1,"زي":1,"سء":1,"سج":1,"سخ":1,"سد":1,"سط":1,"سع":1,"سغ":1,"سف":1,"سق":1,"سك":1,"سم":1,"سي":1,"شب":1,"شر":1,"شش":1,"شط":1,"شظ":1,"شف":1,"شق":1,"شك":1,"شل":1,"شم":1,"شه":1,"شي":1,"صب":1,"صت":1,"صج":1,"صح":1,"صص":1,"صع":1,"صغ":1,"صف":1,"صل":1,"صم":1,"صن":1,"ضء":1,"ضج":1,"ضر":1,"ضي":1,"طح":1,"طد":1,"طس":1,"طع":1,"طف":1,"طق":1,"طل":1,"طي":1,"عج":1,"عد":1,"عذ":1,"عر":1,"عز":1,"عص":1,"عض":1,"عق":1,"عل":1,"عم":1,"عن":1,"عه":1,"عي":1,"غء":1,"غر":1,"غز":1,"غش":1,"غص":1,"غط":1,"غغ":1,"غل":1,"غي":1,"فت":1,"فج":1,"فح":1,"فد":1,"فر":1,"فز":1,"فط":1,"فع":1,"فف":1,"فق":1,"فل":1,"فه":1,"قب":1,"قت":1,"قد":1,"قر":1,"قش":1,"قص":1,"قض":1,"قط":1,"قع":1,"قق":1,"قل":1,"قم":1,"قن":1,"قه":1,"قي":1,"كب":1,"كخ":1,"كر":1,"كز":1,"كس":1,"كش":1,"كع":1,"كف":1,"كك":1,"كم":1,"كن":1,"كي":1,"لب":1,"لث":1,"لج":1,"لح":1,"لذ":1,"لز":1,"لس":1,"لص":1,"لط":1,"لع":1,"لف":1,"لك":1,"لم":1,"لي":1,"مء":1,"مت":1,"مج":1,"مر":1,"من":1,"مه":1,"نء":1,"نب":1,"نت":1,"نح":1,"نخ":1,"ند":1,"نر":1,"نس":1,"نش":1,"نص":1,"نط":1,"نع":1,"نف":1,"نق":1,"نن":1,"نه":1,"نو":1,"ني":1,"هت":1,"هد":1,"هر":1,"هس":1,"هش":1,"هع":1,"هل":1,"هن":1,"هو":1,"هي":1,"يد":1,"يم":1},f={"أب":1,"أد":1,"أر":1,"أس":1,"أض":1,"أك":1,"أل":1,"أم":1,"أن":1,"بت":1,"بد":1,"بض":1,"بع":1,"بن":1,"تح":1,"تر":1,"تس":1,"تل":1,"تم":1,"ته":1,"جء":1,"جش":1,"جف":1,"حث":1,"حد":1,"حر":1,"حض":1,"حف":1,"حق":1,"حك":1,"حن":1,"حو":1,"حي":1,"خب":1,"خس":1,"خش":1,"خط":1,"خل":1,"خم":1,"دث":1,"دك":1,"دن":1,"ذع":1,"ذل":1,"رب":1,"رس":1,"رش":1,"رع":1,"رف":1,"رل":1,"رن":1,"ري":1,"زت":1,"زح":1,"زد":1,"زز":1,"زغ":1,"زف":1,"زق":1,"زن":1,"زي":1,"سب":1,"سح":1,"سخ":1,"سر":1,"سف":1,"سل":1,"شب":1,"شت":1,"شح":1,"شخ":1,"شد":1,"شط":1,"شع":1,"شف":1,"شق":1,"شل":1,"شم":1,"شن":1,"صب":1,"صح":1,"صد":1,"صر":1,"صص":1,"صع":1,"صف":1,"ضر":1,"ضع":1,"ضف":1,"ضق":1,"ضم":1,"طب":1,"طح":1,"طر":1,"طش":1,"طع":1,"طن":1,"عب":1,"عث":1,"عر":1,"عس":1,"عش":1,"عط":1,"عف":1,"عن":1,"عه":1,"عي":1,"غب":1,"غث":1,"غد":1,"غر":1,"غض":1,"غط":1,"غظ":1,"غل":1,"غم":1,"غن":1,"غي":1,"فء":1,"فد":1,"فش":1,"فض":1,"فظ":1,"فف":1,"فل":1,"فن":1,"قء":1,"قح":1,"قر":1,"قس":1,"قش":1,"قض":1,"قظ":1,"قف":1,"قن":1,"قي":1,"كد":1,"كر":1,"كس":1,"كف":1,"كل":1,"كي":1,"لث":1,"لس":1,"لق":1,"لل":1,"لن":1,"لي":1,"مح":1,"مد":1,"مر":1,"مز":1,"مس":1,"مط":1,"مع":1,"مل":1,"من":1,"نق":1,"نك":1,"ني":1,"هء":1,"هب":1,"هت":1,"هج":1,"هر":1,"هش":1,"هض":1,"هط":1,"هف":1,"هل":1,"هم":1,"وب":1,"ول":1},p=["ل","ب","ف","س","و","ي","ت","ن","ا"],$=["ال","لل"],d=["كال","بال","ولل","وال"],g=["ة","ه","ي","ك","ت","ا","ن"],h=["ون","ات","ان","ين","تن","كم","هن","نا","يا","ها","تم","كن","ني","وا","ما","هم"],m=["تمل","همل","تان","تين","كمل"];let x={verb:"",filter:"",len:0,wb:!1,wm:!1,we:!1,m:!1};function v(){e.call(this,"ara"),e._nStem.call(this,"isri","ISRI Arabic stemmer",W),e._nStem.call(this,"jslingua","JsLingua Arabic stemmer",w),e._nConv.call(this,"sing2pl","Singular noun to Plural",M),e._nConv.call(this,"sing2dual","Singular noun to Dual",_)}v.prototype=Object.create(e.prototype);let P=v.prototype;function b(e,t,n){let r,i="^("+t.join("|")+")";if(i=i+"(.*)("+n.join("|")+")$",D(r=(i=new RegExp(i)).exec(e))){let e=r[3].startsWith("ت")?"ة":"";return r[2]+e}return e}function w(e){let t=e;return t=b(t=b(t=b(t=b(t=b(t=b(t=b(t=b(t=b(t=b(t=b(t=b(t=b(t=b(t=b(t,d,m),d,h),$,m),$,h),d,g),p,m),$,g),p,h),d,[]),[],m),p,g),$,[]),[],h),p,[]),[],g)}function W(e){let t=e,n=v.prototype.norm;if((t=n(t=function(e){return e.length>=4&&e.startsWith("وو")?e.slice(1):e}(t=function(e){if(e.length>=6)for(let t in m)if(e.endsWith(m[t]))return e.slice(0,-3);if(e.length>=5)for(let t in h)if(e.endsWith(h[t]))return e.slice(0,-2);return e}(t=function(e){if(e.length>=6)for(let t in d)if(e.startsWith(d[t]))return e.slice(3);if(e.length>=5)for(let t in $)if(e.startsWith($[t]))return e.slice(2);return e}(t=n(t,"voc")))),"ihamza")).length<4)return t;switch(t.length){case 4:return S(t);case 5:return F(t=j(t));case 6:return y(t=V(t));case 7:return 7===(t=R(t)).length&&(t=O(t)),6===t.length&&(t=y(t=V(t))),t;default:return t}}function S(e){return e.startsWith("م")?e.slice(1):/^.ا/.test(e)?e[0]+e.slice(2):/^..[اوي]/.test(e)?e.slice(0,-2)+e[3]:"ة"===e[3]?e.slice(0,-1):(4===(e=R(e)).length&&(e=O(e)),e)}function R(e){for(let t in g)if(e.endsWith(g[t]))return e.slice(0,-1);return e}function O(e){for(let t in p)if(e.startsWith(p[t]))return e.slice(1);return e}function j(e){let t;return D(t=/^ا(.)[ات](.+)$/.exec(e))?t[1]+t[2]:D(t=/^م(..)[اوي](.)$/.exec(e))?t[1]+t[2]:D(t=/^[متا](.+)ة$/.exec(e))?t[1]:D(t=/^[ميت](.)ت(.+)$/.exec(e))?t[1]+t[2]:D(t=/^[مت](.)ا(.+)$/.exec(e))?t[1]+t[2]:D(t=/^(..)[وا](.)ة$/.exec(e))?t[1]+t[2]:D(t=/^[ام]ن(.+)$/.exec(e))?t[1]:D(t=/^ا(..)ا(.)$/.exec(e))?t[1]+t[2]:D(t=/^(...)ان$/.exec(e))?t[1]:D(t=/^ت(..)ي(.)$/.exec(e))?t[1]+t[2]:D(t=/^(.)ا(.)و(.)$/.exec(e))?t[1]+t[2]+t[3]:D(t=/^(.)وا(..)$/.exec(e))?t[1]+t[2]:D(t=/^(..)ائ(.)$/.exec(e))?t[1]+t[2]:D(t=/^(.)ا(..)ة$/.exec(e))?t[1]+t[2]:D(t=/^(..)ا(.)ي$/.exec(e))?t[1]+t[2]:(5===(e=R(e)).length&&(e=O(e)),e)}function F(e){return 4===e.length?S(e):5===e.length?function(e){let t;return D(t=/^[تام](.+)$/.exec(e))?t[1]:D(t=/^(.+)ة$/.exec(e))?t[1]:D(t=/^(..)ا(..)$/.exec(e))?t[1]+t[2]:e}(e):e}function V(e){let t;return D(t=/^[ام]ست(.+)$/.exec(e))?t[1]:D(t=/^م(..)ا(.)ة$/.exec(e))?t[1]+t[2]:D(t=/^ا(.)ت(.)ا(.)$/.exec(e))?t[1]+t[2]+t[3]:D(t=/^ا(.)(.)و\2(.)$/.exec(e))?t[1]+t[2]+t[3]:D(t=/^ت(.)ا(.)ي(.)$/.exec(e))?t[1]+t[2]+t[3]:(6===(e=R(e)).length&&(e=O(e)),e)}function y(e){return 5===e.length?F(e=j(e)):6===e.length?function(e){let t;return D(t=/^ا(...)ا(.)$/.exec(e))?t[1]+t[2]:D(t=/^مت(.+)$/.exec(e))?t[1]:e}(e):e}function M(e){return e.endsWith("ة")?e.slice(0,-1)+"ات":e+"ون"}function _(e){return e.endsWith("ة")&&(e=e.slice(0,-1)+"ت"),e+"ان"}P.constructor=v,P._conj=function(e,t){if(t.mood===r.Imp)return function(e,t){if(T(t))return"";let l=Object.assign({},t);l.mood=r.Ind,l.tense=n.Pa,l.voice=i.A,l.negated=1,l.noNegMark=1;let s=v.prototype.conjugate(e,l);if(t.negated)return"لَا "+s;s=s.slice(2);let c="";x.wb?/^أ.{3}$/.test(x.filter)?c="أَ":x.filter.startsWith("ا")&&(c="ا"):/[َُِ]/.test(s[1])||/^ت.(ا.|.).$/.test(x.filter)||(c="ا");return c+s}(e,t);if(function(e){if((e=(e=e.trim()).replace(/^(.َ?.)َ?$/,"$1َّ"))===x.verb)return;x.verb=e;let t=e.replace("آ","أا");t=(t=/َ?ّ$/.test(e)?t+t.slice(-1):t).replace(/[َُِّْ]/gi,""),x.filter=t,x.len=t.length+e.replace(/[^ّ]/g,"").length,x.wb=/^[أاو]/.test(t),x.wm=/[اآ].$/.test(t),x.we=/[اى]$/.test(t),x.m=/َّ?$/.test(e)}(e),T(t))return"";let l=t.tense;t.tense===n.Fu&&(t.tense=n.Pr);let s=X(t),c={v:e,t:t.tense,s:"",p:"",dV:t.tense===n.Pr?"ْ":"َ",dR:t.tense===n.Pr?"ِ":"َ"};!function(e,t,r){let i="";if(t.negated){let l=t.tense===n.Pa?"ْ":"َ";i=o[n.Pr].suffix[r],/[^ْ]ن[َِ]$/.test(i)?(i=i.slice(0,-2)).endsWith("و")&&(i+="ا"):/ن[َِ]$/.test(i)||(i=i.slice(0,-1)+l),t.tense=n.Pr,e.dV="ْ",e.dR="ِ"}else i=o[t.tense].suffix[r];e.s=i;let l=o[t.tense].prefix[r];l||(l="");e.p=l}(c,t,s),function(e,t){let r=e.v,i=x.filter,l=e.dV,s=e.dR,c=e.p;3===x.len?(s="X",/[^أعحه][^أعحه]$/g.test(i)||/.ُ.[َُِ]?$/g.test(r)&&(s="")):i.startsWith("ت")&&(s="َ");t.tense===n.Pr?4===x.len&&(c=c.slice(0,-1)+"ُ",l=/^.َ?(ا|.ّ)/.test(r)?"َ":"ْ"):4===x.len&&(s="َ",i.startsWith("أ")&&(l="ْ"));/^ان.{3}$/.test(i)&&(l="َ");e.v=r,x.filter=i,e.dV=l,e.dR=s,e.p=c}(c,t),x.wb&&function(e,t){let r=e.v,l=x.filter,s=x.len;t.tense===n.Pr&&(r=t.voice!==i.P||3!==s||l.startsWith("أ")?r.slice(1):r.replace(/^(.)[َُِْ]/,"$1"),/^ا.ت..$/.test(l)&&(e.dV="َ"));/^ا.{3}$/.test(l)&&(e.dV="ْ");e.v=r}(c,t),x.wm&&function(e,t,r){let l=e.v,s=function(e,t){if(I.verb===e)return I.res;if(I.verb=e,t.length>3)return I.res=2,2;let n=t[0]+t[2],r=0;a[n]?r=1:f[n]&&(r=2);return I.res=r,r}(l,x.filter),c="َُِ"[s],u="";if(t.tense===n.Pa)u=3===x.len?"ُ":"َ",13===r||r<8?((l=l.replace(/^(.+)ا(.َ?)$/,"$1$2")).startsWith("آ")&&(l="أ"+l.slice(1)),0===s&&(c="ِ")):(u="",c="َ");else{let e="اوي"[s];t.voice!==i.P?([7,13].indexOf(r)>-1&&(e=""),l=l.replace(/^(.+)ا(.َ?)$/,"$1"+e+"$2")):(c="َ",u="X")}e.v=l,e.dV=c,e.dR=u}(c,t,s),x.we&&function(e,t,r){let l=e.v,s=e.dR;s="َ",l=l.slice(0,-1),t.voice===i.P?t.tense===n.Pa||[4,5,7,10,11,13].indexOf(r)>-1?(l+="ي",s="ِ"):l+="ى":x.filter.endsWith("ى")?(l+="ي",t.tense!==n.Pa&&(s="ِ")):(l+="و",t.tense!==n.Pa&&(s="ُ"));e.v=l,e.dR=s,function(e,t,r){let l=e.v,s=e.p,c=e.s;if(r.tense===n.Pa){if(r.voice!==i.P)if(8===t){s=c="";let e=l.slice(-1);l=l.slice(0,-1),l+="ي"===e?"ى":"ا"}else[9,11,12].indexOf(t)>-1&&(l=l.slice(0,-1),/[وي]$/.test(l)&&(l=l.slice(0,-1)))}else[0,1,2,8,9].indexOf(t)>-1?(r.negated&&e.t===n.Pa&&(l=l.slice(0,-1)),r.voice!==i.P&&r.negated&&e.t!==n.Pa||(c="")):[3,6,12].indexOf(t)>-1&&(l=l.slice(0,-1),/[وي]$/.test(l)&&(l=l.slice(0,-1)));e.v=l,e.p=s,e.s=c}(e,r,t)}(c,t,s),x.m&&function(e,t,r){let i=e.v;t.tense===n.Pr?[7,13].indexOf(r)>-1?(i=i.replace(/^(.*)(.)َّ?$/,"$1$2َ$2ْ"),e.dR=x.len<4?"ُ":"ِ"):(i=i.replace(/َ$/,""),x.len>4?(e.dV="ْ",e.dR="َ"):(e.dV="ُ",e.dR="")):13===r||r<8?(e.dR="َ",i=i.replace(/^(.*)(.)َّ?$/,"$1$2َ$2ْ")):e.dR="";e.v=i}(c,t,s),function(e,t){if(t.voice!==i.P)return;let r=e.s,l=e.v;t.tense===n.Pa?(e.dV=x.wm?"ِ":"ُ",e.dR=x.wm?"X":"ِ",/^أ.{3}$/.test(x.filter)&&(e.dV="ْ",l=l.replace(/^أ[َُِْ]?/,"أُ"))):(e.p=e.p.slice(0,-1)+"ُ",e.dR=x.wm?"X":"َ",x.we&&r.startsWith("ْ")&&(r=r.slice(1)));e.s=r,e.v=l}(c,t),function(e){let t=e.dV,n=e.dR,r=e.v,i=x.filter,l=r.replace(/[َُِّْ]/g,""),s=x.len,c=x.wm&&2===l.length;t&&("X"===t&&(t=""),r=l.length<4||/^.ا../.test(l)?r.replace(/^(.)[َُِْ]?/,"$1"+t):l.startsWith("است")?r.replace(/(ا[َُِْ]?س[َُِْ]?ت)[َُِْ]?/,"$1"+t):5===s&&/^ا.{3}$/.test(i)?r.replace(/^(ا?[َُِْ]?.)[َُِْ]?/,"$1"+t):/ت.{3}/.test(l)?r.replace(/(.ّ?)[َُِْ]?(.[َُِْ]?)$/,"$1"+t+"$2"):r.replace(/(.*[^َُِْ])[َُِْ]?([^َُِْ][َُِْ]?[^َُِْ][َُِْ]?)$/,"$1"+t+"$2"));n&&!c&&("X"===n&&(n=""),x.we&&2===l.length?r=r.replace(/^(.[َُِْ]?.)[َُِْ]?/,"$1"+n):x.m&&2===l.length||(r=r.replace(/(.ّ?)[َُِْ]?(.ّ?)[َُِْ]?$/,"$1"+n+"$2")));e.v=r}(c);let u=c.p;if(u+=/^[َُِْ]/.test(c.s)?c.v.replace(/[َُِْ]$/,""):c.v,u=(u=function(e){return e=(e=e.replace(/ِي(.ْ)/,"ِ$1")).replace("ِيْ","ِي")}(u=function(e){return e=(e=e.replace(/ُو(.ْ)/,"ُ$1")).replace("ُوْ","ُو")}(u=function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/أْوِ/,"ؤُو")).replace(/أَأْ/,"آ")).replace(/أَا/,"آ")).replace("أِي","ئِي")).replace(/ِأ(.?)/,"ئ$1")).replace(/(.)أُو/,"$1ؤُو")).replace(/([ِي])ء([َُِْ].)/,"$1ئ$2")).replace(/اءُ?و/,"اؤُو")).replace("ِا","ِي")).replace(/َا(.ْ)/,"َ$1")).replace("ُا","ُو")}(u+=c.s)))).replace(/(.)ْ\1([َُِ])/,"$1ّ$2"),!t.noNegMark){let e="";t.negated?(e="لَمْ ",l===n.Pr&&(e="لَنْ ")):l===n.Fu&&(e="سَوْفَ "),u=e+u}return u.trim()};let I={verb:"",res:""};function T(e){if(e.voice===i.P){if(e.mood===r.Imp)return!0;if(x.len>4){let e=x.filter;if(e.startsWith("ت"))return!0;if(/^ان.{3}$/.test(e))return!0;if(/^ا.{3}$/.test(e))return!0}}return e.mood===r.Imp&&e.person!==c.S}function X(e){if(e.person===c.F)return e.number===l.S?0:1;return 6*(Object.values(c).indexOf(e.person)-1)+2*Object.values(l).indexOf(e.number)+Object.values(s).indexOf(e.gender)+2}function D(e){return null!=e}P.getTenseName=function(e){switch(e){case n.Pa:return"الماضي";case n.Pr:return"المضارع";case n.Fu:return"المستقبل"}return""},P.lform=function(){let t=e.prototype.lform.call(this);const n={imp:{desc:"Imperative",mood:r.Imp}};return Object.assign({},t,n)},P._gPpOpts=function(){return[{person:c.F,number:l.S},{person:c.F,number:l.P},{person:c.S,number:l.S,gender:s.M},{person:c.S,number:l.S,gender:s.F},{person:c.S,number:l.D,gender:s.M},{person:c.S,number:l.D,gender:s.F},{person:c.S,number:l.P,gender:s.M},{person:c.S,number:l.P,gender:s.F},{person:c.T,number:l.S,gender:s.M},{person:c.T,number:l.S,gender:s.F},{person:c.T,number:l.D,gender:s.M},{person:c.T,number:l.D,gender:s.F},{person:c.T,number:l.P,gender:s.M},{person:c.T,number:l.P,gender:s.F}]},P._gPpName=function(e){return u[X(e)]},P.norm=function(e,t){let n=e.trim();return(!t||t.length<1)&&(t="voc,alef,yeh,teh,_"),t.includes("voc")&&(n=n.replace(/[َ ً ُ ٍ ْ ِ ٌ]/g,"")),t.includes("alef")&&(n=n.replace(/[أإآ]/g,"ا")),t.includes("ihamza")&&(n=n.replace(/^[أإآ]/g,"ا")),t.includes("yeh")&&(n=n.replace(/[ى]/g,"ي")),t.includes("teh")&&(n=n.replace(/[ة]/g,"ه")),t.includes("_")&&(n=n.replace(/[ـ]+/g,"")),n}}();