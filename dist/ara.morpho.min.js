!function(){"use strict";function e(){T.call(this,"ara"),T.newStemmer.call(this,"IsriAraStemmer","ISRI Arabic stemmer",v),T.newStemmer.call(this,"jslinguaAraStemmer","JsLingua Arabic stemmer",x)}function t(e){return e.person===N.F?e.number===J.S?0:1:6*(Object.values(N).indexOf(e.person)-1)+2*Object.values(J).indexOf(e.number)+Object.values(L).indexOf(e.gender)+2}function r(e){if(e=e.trim(),(e=e.replace(/^(.َ?.)َ?$/,"$1َّ"))===C.verb)return;C.verb=e;let t=e.replace("آ","أا");t=(t=/َ?ّ$/.test(e)?t+t.slice(-1):t).replace(/[َُِّْ]/gi,""),C.filter=t,C.len=t.length+e.replace(/[^ّ]/g,"").length,C.wb=/^[أاو]/.test(t),C.wm=/[اآ].$/.test(t),C.we=/[اى]$/.test(t),C.m=/َّ?$/.test(e)}function n(e,t,r){let n="";if(t.negated){let i=t.tense===A.Pa?"ْ":"َ";n=q[A.Pr].suffix[r],/[^ْ]ن[َِ]$/.test(n)?(n=n.slice(0,-2)).endsWith("و")&&(n+="ا"):/ن[َِ]$/.test(n)||(n=n.slice(0,-1)+i),t.tense=A.Pr,e.dV="ْ",e.dR="ِ"}else n=q[t.tense].suffix[r];e.s=n;let i=q[t.tense].prefix[r];i||(i=""),e.p=i}function i(e,t){let r=e.v,n=C.filter,i=C.len;t.tense===A.Pr&&(r=t.voice!==D.P||3!==i||n.startsWith("أ")?r.slice(1):r.replace(/^(.)[َُِْ]/,"$1"),/^ا.ت..$/.test(n)&&(e.dV="َ")),/^ا.{3}$/.test(n)&&(e.dV="ْ"),e.v=r}function l(e,t,r){let n=e.v,i=h(n,C.filter),l="َُِ"[i],s="";if(t.tense===A.Pa)s=3===C.len?"ُ":"َ",13===r||r<8?((n=n.replace(/^(.+)ا(.َ?)$/,"$1$2")).startsWith("آ")&&(n="أ"+n.slice(1)),0===i&&(l="ِ")):(s="",l="َ");else{let e="اوي"[i];t.voice!==D.P?([7,13].indexOf(r)>-1&&(e=""),n=n.replace(/^(.+)ا(.َ?)$/,"$1"+e+"$2")):(l="َ",s="X")}e.v=n,e.dV=l,e.dR=s}function s(e,t,r){let n=e.v,i=e.dR;i="َ",n=n.slice(0,-1),t.voice===D.P?t.tense===A.Pa||[4,5,7,10,11,13].indexOf(r)>-1?(n+="ي",i="ِ"):n+="ى":C.filter.endsWith("ى")?(n+="ي",t.tense!==A.Pa&&(i="ِ")):(n+="و",t.tense!==A.Pa&&(i="ُ")),e.v=n,e.dR=i,c(e,r,t)}function c(e,t,r){let n=e.v,i=e.p,l=e.s;if(r.tense===A.Pa){if(r.voice!==D.P)if(8===t){i=l="";let e=n.slice(-1);n=n.slice(0,-1),n+="ي"===e?"ى":"ا"}else[9,11,12].indexOf(t)>-1&&(n=n.slice(0,-1),/[وي]$/.test(n)&&(n=n.slice(0,-1)))}else[0,1,2,8,9].indexOf(t)>-1?(r.negated&&e.t===A.Pa&&(n=n.slice(0,-1)),r.voice!==D.P&&r.negated&&e.t!==A.Pa||(l="")):[3,6,12].indexOf(t)>-1&&(n=n.slice(0,-1),/[وي]$/.test(n)&&(n=n.slice(0,-1)));e.v=n,e.p=i,e.s=l}function u(e,t,r){let n=e.v;t.tense===A.Pr?[7,13].indexOf(r)>-1?(n=n.replace(/^(.*)(.)َّ?$/,"$1$2َ$2ْ"),e.dR=C.len<4?"ُ":"ِ"):(n=n.replace(/َ$/,""),C.len>4?(e.dV="ْ",e.dR="َ"):(e.dV="ُ",e.dR="")):13===r||r<8?(e.dR="َ",n=n.replace(/^(.*)(.)َّ?$/,"$1$2َ$2ْ")):e.dR="",e.v=n}function o(e,t){if(t.voice!==D.P)return;let r=e.s,n=e.v;t.tense===A.Pa?(e.dV=C.wm?"ِ":"ُ",e.dR=C.wm?"X":"ِ",/^أ.{3}$/.test(C.filter)&&(e.dV="ْ",n=n.replace(/^أ[َُِْ]?/,"أُ"))):(e.p=e.p.slice(0,-1)+"ُ",e.dR=C.wm?"X":"َ",C.we&&r.startsWith("ْ")&&(r=r.slice(1))),e.s=r,e.v=n}function a(e,t){let r=e.v,n=C.filter,i=e.dV,l=e.dR,s=e.p;3===C.len?(l="X",/[^أعحه][^أعحه]$/g.test(n)||/.ُ.[َُِ]?$/g.test(r)&&(l="")):n.startsWith("ت")&&(l="َ"),t.tense===A.Pr?4===C.len&&(s=s.slice(0,-1)+"ُ",i=/^.َ?(ا|.ّ)/.test(r)?"َ":"ْ"):4===C.len&&(l="َ",n.startsWith("أ")&&(i="ْ")),/^ان.{3}$/.test(n)&&(i="َ"),e.v=r,C.filter=n,e.dV=i,e.dR=l,e.p=s}function f(e){let t=e.dV,r=e.dR,n=e.v,i=C.filter,l=n.replace(/[َُِّْ]/g,""),s=C.len,c=C.wm&&2===l.length;t&&("X"===t&&(t=""),n=l.length<4||/^.ا../.test(l)?n.replace(/^(.)[َُِْ]?/,"$1"+t):l.startsWith("است")?n.replace(/(ا[َُِْ]?س[َُِْ]?ت)[َُِْ]?/,"$1"+t):5===s&&/^ا.{3}$/.test(i)?n.replace(/^(ا?[َُِْ]?.)[َُِْ]?/,"$1"+t):/ت.{3}/.test(l)?n.replace(/(.ّ?)[َُِْ]?(.[َُِْ]?)$/,"$1"+t+"$2"):n.replace(/(.*[^َُِْ])[َُِْ]?([^َُِْ][َُِْ]?[^َُِْ][َُِْ]?)$/,"$1"+t+"$2")),r&&!c&&("X"===r&&(r=""),C.we&&2===l.length?n=n.replace(/^(.[َُِْ]?.)[َُِْ]?/,"$1"+r):C.m&&2===l.length||(n=n.replace(/(.ّ?)[َُِْ]?(.ّ?)[َُِْ]?$/,"$1"+r+"$2"))),e.v=n}function p(e){if(e.voice===D.P){if(e.mood===z.Imp)return!0;if(C.len>4){let e=C.filter;if(e.startsWith("ت"))return!0;if(/^ان.{3}$/.test(e))return!0;if(/^ا.{3}$/.test(e))return!0}}return e.mood===z.Imp&&e.person!==N.S}function $(t,r){if(p(r))return"";let n=Object.assign({},r);n.mood=z.Ind,n.tense=A.Pa,n.voice=D.A,n.negated=1;let i=e.prototype.conjugate(t,n);if(r.negated)return"لَا "+i;i=i.slice(2);let l="";return C.wb?/^أ.{3}$/.test(C.filter)?l="أَ":C.filter.startsWith("ا")&&(l="ا"):/[َُِ]/.test(i[1])||/^ت.(ا.|.).$/.test(C.filter)||(l="ا"),l+i}function d(e){return e=e.replace(/ِي(.ْ)/,"ِ$1"),e=e.replace("ِيْ","ِي")}function g(e){return e=e.replace(/ُو(.ْ)/,"ُ$1"),e=e.replace("ُوْ","ُو")}function m(e){return e=e.replace(/أْوِ/,"ؤُو"),e=e.replace(/أَأْ/,"آ"),e=e.replace(/أَا/,"آ"),e=e.replace("أِي","ئِي"),e=e.replace(/ِأ(.?)/,"ئ$1"),e=e.replace(/(.)أُو/,"$1ؤُو"),e=e.replace(/([ِي])ء([َُِْ].)/,"$1ئ$2"),e=e.replace(/اءُ?و/,"اؤُو"),e=e.replace("ِا","ِي"),e=e.replace(/َا(.ْ)/,"َ$1"),e=e.replace("ُا","ُو")}function h(e,t){if(B.verb===e)return B.res;if(B.verb=e,t.length>3)return B.res=2,2;let r=t[0]+t[2],n=0;return G[r]?n=1:k[r]&&(n=2),B.res=n,n}function x(e){return e}function v(t){let r=t,n=e.prototype.normalize;if(r=n(r,"voc"),r=b(r),r=P(r),r=w(r),(r=n(r,"ihamza")).length<4)return r;switch(r.length){case 4:return S(r);case 5:return r=R(r),F(r);case 6:return r=j(r),y(r);case 7:return 7===(r=W(r)).length&&(r=O(r)),6===r.length&&(r=y(r=j(r))),r;default:return r}}function b(e){if(e.length>=6)for(let t in Q)if(e.startsWith(Q[t]))return e.slice(3);if(e.length>=5)for(let t in K)if(e.startsWith(K[t]))return e.slice(2);return e}function P(e){if(e.length>=6)for(let t in Z)if(e.endsWith(Z[t]))return e.slice(0,-3);if(e.length>=5)for(let t in Y)if(e.endsWith(Y[t]))return e.slice(0,-2);return e}function w(e){return e.length>=4&&e.startsWith("وو")?e.slice(1):e}function S(e){return e.startsWith("م")?e.slice(1):/^.ا/.test(e)?e[0]+e.slice(2):/^..[اوي]/.test(e)?e.slice(0,-2)+e[3]:"ة"===e[3]?e.slice(0,-1):(4===(e=W(e)).length&&(e=O(e)),e)}function W(e){for(let t in U)if(e.endsWith(U[t]))return e.slice(0,-1);return e}function O(e){for(let t in H)if(e.startsWith(H[t]))return e.slice(1);return e}function R(e){let t;return M(t=/^ا(.)[ات](.+)$/.exec(e))?t[1]+t[2]:M(t=/^م(..)[اوي](.)$/.exec(e))?t[1]+t[2]:M(t=/^[متا](.+)ة$/.exec(e))?t[1]:M(t=/^[ميت](.)ت(.+)$/.exec(e))?t[1]+t[2]:M(t=/^[مت](.)ا(.+)$/.exec(e))?t[1]+t[2]:M(t=/^(..)[وا](.)ة$/.exec(e))?t[1]+t[2]:M(t=/^[ام]ن(.+)$/.exec(e))?t[1]:M(t=/^ا(..)ا(.)$/.exec(e))?t[1]+t[2]:M(t=/^(...)ان$/.exec(e))?t[1]:M(t=/^ت(..)ي(.)$/.exec(e))?t[1]+t[2]:M(t=/^(.)ا(.)و(.)$/.exec(e))?t[1]+t[2]+t[3]:M(t=/^(.)وا(..)$/.exec(e))?t[1]+t[2]:M(t=/^(..)ائ(.)$/.exec(e))?t[1]+t[2]:M(t=/^(.)ا(..)ة$/.exec(e))?t[1]+t[2]:M(t=/^(..)ا(.)ي$/.exec(e))?t[1]+t[2]:(5===(e=W(e)).length&&(e=O(e)),e)}function F(e){return 4===e.length?S(e):5===e.length?V(e):e}function V(e){let t;return M(t=/^[تام](.+)$/.exec(e))?t[1]:M(t=/^(.+)ة$/.exec(e))?t[1]:M(t=/^(..)ا(..)$/.exec(e))?t[1]+t[2]:e}function j(e){let t;return M(t=/^[ام]ست(.+)$/.exec(e))?t[1]:M(t=/^م(..)ا(.)ة$/.exec(e))?t[1]+t[2]:M(t=/^ا(.)ت(.)ا(.)$/.exec(e))?t[1]+t[2]+t[3]:M(t=/^ا(.)(.)و\2(.)$/.exec(e))?t[1]+t[2]+t[3]:M(t=/^ت(.)ا(.)ي(.)$/.exec(e))?t[1]+t[2]+t[3]:(6===(e=W(e)).length&&(e=O(e)),e)}function y(e){return 5===e.length?(e=R(e),F(e)):6===e.length?I(e):e}function I(e){let t;return M(t=/^ا(...)ا(.)$/.exec(e))?t[1]+t[2]:M(t=/^مت(.+)$/.exec(e))?t[1]:e}function M(e){return null!=e}let T={};"object"==typeof module&&module&&"object"==typeof module.exports?(T=require("../morpho.js"),module.exports=e):(T=window.JsLingua.Cls.Morpho,window.JsLingua.addService("Morpho","ara",e));let X=T.Feature,A=X.Tense,z=X.Mood,D=X.Voice,J=X.Number,L=X.Gender,N=X.Person;e.prototype=Object.create(T.prototype);let _=e.prototype;_.constructor=e,_.getTenseName=function(e){switch(e){case A.Pa:return"الماضي";case A.Pr:return"المضارع";case A.Fu:return"المستقبل"}return""},_.getPronounOpts=function(){return[{person:N.F,number:J.S},{person:N.F,number:J.P},{person:N.S,number:J.S,gender:L.M},{person:N.S,number:J.S,gender:L.F},{person:N.S,number:J.D,gender:L.M},{person:N.S,number:J.D,gender:L.F},{person:N.S,number:J.P,gender:L.M},{person:N.S,number:J.P,gender:L.F},{person:N.T,number:J.S,gender:L.M},{person:N.T,number:J.S,gender:L.F},{person:N.T,number:J.D,gender:L.M},{person:N.T,number:J.D,gender:L.F},{person:N.T,number:J.P,gender:L.M},{person:N.T,number:J.P,gender:L.F}]},_.getForms=function(){let e=T.prototype.getForms.call(this);const t={Imperative:{mood:z.Imp}};return Object.assign({},e,t)};const q={[A.Pr]:{prefix:["أَ","نَ","تَ","تَ","تَ","تَ","تَ","تَ","يَ","تَ","يَ","تَ","يَ","يَ"],suffix:["ُ","ُ","ُ","ِينَ","َانِ","َانِ","ُونَ","ْنَ","ُ","ُ","َانِ","َانِ","ُونَ","ْنَ"]},[A.Pa]:{prefix:[],suffix:["ْتُ","ْنَا","ْتَ","ْتِ","ْتُمَا","ْتُمَا","ْتُمْ","ْتُنَّ","َ","َتْ","َا","َتَا","ُوا","ْنَ"]}};let C={verb:"",filter:"",len:0,wb:!1,wm:!1,we:!1,m:!1};_.conjugate=function(e,c){if(c.mood===z.Imp)return $(e,c);if(r(e),p(c))return"";C.filter;let h=0;c.tense===A.Fu&&(h=1,c.tense=A.Pr);let x=t(c),v={v:e,t:c.tense,s:"",p:"",dV:c.tense===A.Pr?"ْ":"َ",dR:c.tense===A.Pr?"ِ":"َ"};n(v,c,x),a(v,c),C.wb&&i(v,c),C.wm&&l(v,c,x),C.we&&s(v,c,x),C.m&&u(v,c,x),o(v,c),f(v);let b=v.p;if(b+=/^[َُِْ]/.test(v.s)?v.v.replace(/[َُِْ]$/,""):v.v,b+=v.s,b=m(b),b=g(b),b=d(b),b=b.replace(/(.)ْ\1([َُِ])/,"$1ّ$2"),h){let e="سَوْفَ ";c.negated&&(e="لَنْ "),b=e+b}return b.trim()};const G={"أب":1,"أج":1,"أد":1,"أر":1,"أز":1,"أش":1,"أض":1,"أف":1,"أق":1,"أل":1,"أن":1,"أه":1,"أي":1,"بب":1,"بح":1,"بخ":1,"بر":1,"بز":1,"بس":1,"بش":1,"بص":1,"بغ":1,"بق":1,"بل":1,"تب":1,"تج":1,"تق":1,"ثب":1,"ثر":1,"ثل":1,"ثي":1,"جب":1,"جح":1,"جد":1,"جر":1,"جز":1,"جس":1,"جط":1,"جع":1,"جف":1,"جق":1,"جل":1,"جن":1,"جو":1,"جي":1,"حب":1,"حت":1,"حث":1,"حج":1,"حذ":1,"حز":1,"حس":1,"حش":1,"حص":1,"حط":1,"حف":1,"حق":1,"حك":1,"حل":1,"حم":1,"حي":1,"خج":1,"خخ":1,"خذ":1,"خر":1,"خص":1,"خض":1,"خل":1,"خن":1,"خو":1,"خي":1,"دء":1,"دب":1,"دح":1,"دخ":1,"دد":1,"در":1,"دس":1,"دش":1,"دط":1,"دغ":1,"دف":1,"دق":1,"دك":1,"دل":1,"دم":1,"دن":1,"دي":1,"ذب":1,"ذد":1,"ذق":1,"ذي":1,"رب":1,"رث":1,"رج":1,"رح":1,"رد":1,"رز":1,"رس":1,"رض":1,"رع":1,"رغ":1,"رق":1,"رل":1,"رم":1,"ري":1,"زج":1,"زح":1,"زر":1,"زغ":1,"زق":1,"زل":1,"زم":1,"زن":1,"زي":1,"سء":1,"سج":1,"سخ":1,"سد":1,"سط":1,"سع":1,"سغ":1,"سف":1,"سق":1,"سك":1,"سم":1,"سي":1,"شب":1,"شر":1,"شش":1,"شط":1,"شظ":1,"شف":1,"شق":1,"شك":1,"شل":1,"شم":1,"شه":1,"شي":1,"صب":1,"صت":1,"صج":1,"صح":1,"صص":1,"صع":1,"صغ":1,"صف":1,"صل":1,"صم":1,"صن":1,"ضء":1,"ضج":1,"ضر":1,"ضي":1,"طح":1,"طد":1,"طس":1,"طع":1,"طف":1,"طق":1,"طل":1,"طي":1,"عج":1,"عد":1,"عذ":1,"عر":1,"عز":1,"عص":1,"عض":1,"عق":1,"عل":1,"عم":1,"عن":1,"عه":1,"عي":1,"غء":1,"غر":1,"غز":1,"غش":1,"غص":1,"غط":1,"غغ":1,"غل":1,"غي":1,"فت":1,"فج":1,"فح":1,"فد":1,"فر":1,"فز":1,"فط":1,"فع":1,"فف":1,"فق":1,"فل":1,"فه":1,"قب":1,"قت":1,"قد":1,"قر":1,"قش":1,"قص":1,"قض":1,"قط":1,"قع":1,"قق":1,"قل":1,"قم":1,"قن":1,"قه":1,"قي":1,"كب":1,"كخ":1,"كر":1,"كز":1,"كس":1,"كش":1,"كع":1,"كف":1,"كك":1,"كم":1,"كن":1,"كي":1,"لب":1,"لث":1,"لج":1,"لح":1,"لذ":1,"لز":1,"لس":1,"لص":1,"لط":1,"لع":1,"لف":1,"لك":1,"لم":1,"لي":1,"مء":1,"مت":1,"مج":1,"مر":1,"من":1,"مه":1,"نء":1,"نب":1,"نت":1,"نح":1,"نخ":1,"ند":1,"نر":1,"نس":1,"نش":1,"نص":1,"نط":1,"نع":1,"نف":1,"نق":1,"نن":1,"نه":1,"نو":1,"ني":1,"هت":1,"هد":1,"هر":1,"هس":1,"هش":1,"هع":1,"هل":1,"هن":1,"هو":1,"هي":1,"يد":1,"يم":1},k={"أب":1,"أد":1,"أر":1,"أس":1,"أض":1,"أك":1,"أل":1,"أم":1,"أن":1,"بت":1,"بد":1,"بض":1,"بع":1,"بن":1,"تح":1,"تر":1,"تس":1,"تل":1,"تم":1,"ته":1,"جء":1,"جش":1,"جف":1,"حث":1,"حد":1,"حر":1,"حض":1,"حف":1,"حق":1,"حك":1,"حن":1,"حو":1,"حي":1,"خب":1,"خس":1,"خش":1,"خط":1,"خل":1,"خم":1,"دث":1,"دك":1,"دن":1,"ذع":1,"ذل":1,"رب":1,"رس":1,"رش":1,"رع":1,"رف":1,"رل":1,"رن":1,"ري":1,"زت":1,"زح":1,"زد":1,"زز":1,"زغ":1,"زف":1,"زق":1,"زن":1,"زي":1,"سب":1,"سح":1,"سخ":1,"سر":1,"سف":1,"سل":1,"شب":1,"شت":1,"شح":1,"شخ":1,"شد":1,"شط":1,"شع":1,"شف":1,"شق":1,"شل":1,"شم":1,"شن":1,"صب":1,"صح":1,"صد":1,"صر":1,"صص":1,"صع":1,"صف":1,"ضر":1,"ضع":1,"ضف":1,"ضق":1,"ضم":1,"طب":1,"طح":1,"طر":1,"طش":1,"طع":1,"طن":1,"عب":1,"عث":1,"عر":1,"عس":1,"عش":1,"عط":1,"عف":1,"عن":1,"عه":1,"عي":1,"غب":1,"غث":1,"غد":1,"غر":1,"غض":1,"غط":1,"غظ":1,"غل":1,"غم":1,"غن":1,"غي":1,"فء":1,"فد":1,"فش":1,"فض":1,"فظ":1,"فف":1,"فل":1,"فن":1,"قء":1,"قح":1,"قر":1,"قس":1,"قش":1,"قض":1,"قظ":1,"قف":1,"قن":1,"قي":1,"كد":1,"كر":1,"كس":1,"كف":1,"كل":1,"كي":1,"لث":1,"لس":1,"لق":1,"لل":1,"لن":1,"لي":1,"مح":1,"مد":1,"مر":1,"مز":1,"مس":1,"مط":1,"مع":1,"مل":1,"من":1,"نق":1,"نك":1,"ني":1,"هء":1,"هب":1,"هت":1,"هج":1,"هر":1,"هش":1,"هض":1,"هط":1,"هف":1,"هل":1,"هم":1,"وب":1,"ول":1};let B={verb:"",res:""};const E=["أَنَا","نَحْنُ","أَنْتَ","أَنْتِ","أَنْتُمَا","أَنْتُمَا","أَنْتُمْ","أَنْتُنَّ","هُوَ","هِيَ","هُمَا","هُمَا","هُمْ","هُنَّ"];_.getPronounName=function(e){return E[t(e)]},_.normalize=function(e,t){let r=e.trim();return(!t||t.length<1)&&(t="voc,alef,yeh,teh,_"),t.includes("voc")&&(r=r.replace(/[َ ً ُ ٍ ْ ِ ٌ]/g,"")),t.includes("alef")&&(r=r.replace(/[أإآ]/g,"ا")),t.includes("ihamza")&&(r=r.replace(/^[أإآ]/g,"ا")),t.includes("yeh")&&(r=r.replace(/[ى]/g,"ي")),t.includes("teh")&&(r=r.replace(/[ة]/g,"ه")),t.includes("_")&&(r=r.replace(/[ـ]+/g,"")),r};let H=["ل","ب","ف","س","و","ي","ت","ن","ا"],K=["ال","لل"],Q=["كال","بال","ولل","وال"],U=["ة","ه","ي","ك","ت","ا","ن"],Y=["ون","ات","ان","ين","تن","كم","هن","نا","يا","ها","تم","كن","ني","وا","ما","هم"],Z=["تمل","همل","تان","تين","كمل"]}();