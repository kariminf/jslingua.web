

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Source: jpn/jpn.trans.js | JsLingua doc</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-jsdoc.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/tui-doc.css">

    
</head>
<body>
<nav class="lnb" id="lnb">
    <div class="logo" style="width: 50px; height: 50px">
        
            <a href="https://kariminf.github.io/jslingua.web/" rel="noopener noreferrer" target="_blank">
                <img src="logo.png" width="100%" height="100%">
            </a>
        
    </div>
    <div class="title">
        <h1><a href="index.html" class="link">JsLingua doc</a></h1>
        
    </div>
    <div class="search-container" id="search-container">
        <input type="text" placeholder="Search">
        <ul></ul>
    </div>
    
    <div class="lnb-api hidden"><h3>Modules</h3><ul><li><a href="module-JsLingua.html">JsLingua</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:JsLingua_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-JsLingua.html#.addService">addService</a></li><li><a href="module-JsLingua.html#.getDir">getDir</a></li><li><a href="module-JsLingua.html#.getService">getService</a></li><li><a href="module-JsLingua.html#.getVersion">getVersion</a></li><li><a href="module-JsLingua.html#.serviceLanguages">serviceLanguages</a></li></ul></div></li><li><a href="module-Tools.html">Tools</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:Tools_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-Tools.html#.htmlEntities">htmlEntities</a></li><li><a href="module-Tools.html#.readMorse">readMorse</a></li></ul></div></li></ul></div><div class="lnb-api hidden"><h3>Classes</h3><ul><li><a href="AraInfo.html">AraInfo</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="AraInfo_sub"></div></li><li><a href="AraLang.html">AraLang</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="AraLang_sub"></div></li><li><a href="AraMorpho.html">AraMorpho</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="AraMorpho_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="AraMorpho.html#.normalize">normalize</a></li></ul></div></li><li><a href="AraTrans.html">AraTrans</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="AraTrans_sub"></div></li><li><a href="EngInfo.html">EngInfo</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="EngInfo_sub"></div></li><li><a href="EngLang.html">EngLang</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="EngLang_sub"></div></li><li><a href="EngMorpho.html">EngMorpho</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="EngMorpho_sub"></div></li><li><a href="EngTrans.html">EngTrans</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="EngTrans_sub"></div></li><li><a href="FraInfo.html">FraInfo</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="FraInfo_sub"></div></li><li><a href="FraLang.html">FraLang</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="FraLang_sub"></div></li><li><a href="FraMorpho.html">FraMorpho</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="FraMorpho_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="FraMorpho.html#.getConjugModel">getConjugModel</a></li></ul></div></li><li><a href="FraTrans.html">FraTrans</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="FraTrans_sub"></div></li><li><a href="Info.html">Info</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Info_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Info.html#.getBranch">getBranch</a></li><li><a href="Info.html#.getCode">getCode</a></li><li><a href="Info.html#.getDir">getDir</a></li><li><a href="Info.html#.getFamily">getFamily</a></li><li><a href="Info.html#.getName">getName</a></li><li><a href="Info.html#.getOrigName">getOrigName</a></li><li><a href="Info.html#.getWordOrder">getWordOrder</a></li></ul></div></li><li><a href="JpnInfo.html">JpnInfo</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="JpnInfo_sub"></div></li><li><a href="JpnLang.html">JpnLang</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="JpnLang_sub"></div></li><li><a href="JpnMorpho.html">JpnMorpho</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="JpnMorpho_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="JpnMorpho.html#.normalize">normalize</a></li></ul></div></li><li><a href="JpnTrans.html">JpnTrans</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="JpnTrans_sub"></div></li><li><a href="Lang.html">Lang</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Lang_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Lang.html#.addCharSet">addCharSet</a></li><li><a href="Lang.html#.addTransform">addTransform</a></li><li><a href="Lang.html#.allCharSetFunction">allCharSetFunction</a></li><li><a href="Lang.html#.availableCharSets">availableCharSets</a></li><li><a href="Lang.html#.availableTransformations">availableTransformations</a></li><li><a href="Lang.html#.containsCharSetFunction">containsCharSetFunction</a></li><li><a href="Lang.html#.getCode">getCode</a></li><li><a href="Lang.html#.pronounceNumber">pronounceNumber</a></li><li><a href="Lang.html#.transformationFunction">transformationFunction</a></li><li><a href="Lang.html#.verifyCharSetFunction">verifyCharSetFunction</a></li></ul></div></li><li><a href="Morpho.html">Morpho</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Morpho_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Morpho.html#.Feature">Feature</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="Morpho.html#.availablePosConverters">availablePosConverters</a></li><li><a href="Morpho.html#.availableStemmers">availableStemmers</a></li><li><a href="Morpho.html#.conjugate">conjugate</a></li><li><a href="Morpho.html#.convertPoS">convertPoS</a></li><li><a href="Morpho.html#.disableDebug">disableDebug</a></li><li><a href="Morpho.html#.enableDebug">enableDebug</a></li><li><a href="Morpho.html#.getConjugModel">getConjugModel</a></li><li><a href="Morpho.html#.getForms">getForms</a></li><li><a href="Morpho.html#.getNegationName">getNegationName</a></li><li><a href="Morpho.html#.getNegationOpts">getNegationOpts</a></li><li><a href="Morpho.html#.getOptLists">getOptLists</a></li><li><a href="Morpho.html#.getOptName">getOptName</a></li><li><a href="Morpho.html#.getPronounName">getPronounName</a></li><li><a href="Morpho.html#.getPronounOpts">getPronounOpts</a></li><li><a href="Morpho.html#.getTenseName">getTenseName</a></li><li><a href="Morpho.html#.getVerbType">getVerbType</a></li><li><a href="Morpho.html#.getVerbTypes">getVerbTypes</a></li><li><a href="Morpho.html#.getVoiceName">getVoiceName</a></li><li><a href="Morpho.html#.getVoiceOpts">getVoiceOpts</a></li><li><a href="Morpho.html#.newPosConverter">newPosConverter</a></li><li><a href="Morpho.html#.newStemmer">newStemmer</a></li><li><a href="Morpho.html#.normalize">normalize</a></li><li><a href="Morpho.html#.parseConjModel">parseConjModel</a></li><li><a href="Morpho.html#.setCurrentPosConverter">setCurrentPosConverter</a></li><li><a href="Morpho.html#.setCurrentStemmer">setCurrentStemmer</a></li><li><a href="Morpho.html#.stem">stem</a></li></ul></div></li><li><a href="Trans.html">Trans</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Trans_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Trans.html#.addTransPrePostMethods">addTransPrePostMethods</a></li><li><a href="Trans.html#.addUntransPrePostMethods">addUntransPrePostMethods</a></li><li><a href="Trans.html#.availableMethods">availableMethods</a></li><li><a href="Trans.html#.getCode">getCode</a></li><li><a href="Trans.html#.newMethod">newMethod</a></li><li><a href="Trans.html#.setCurrentMethod">setCurrentMethod</a></li><li><a href="Trans.html#.setTransUntrasMethods">setTransUntrasMethods</a></li><li><a href="Trans.html#.transliterate">transliterate</a></li><li><a href="Trans.html#.untransliterate">untransliterate</a></li></ul></div></li></ul></div><div class="lnb-api hidden"><h3><a href="global.html">Global</a></h3></div>
</nav>
<div id="resizer"></div>

<div class="main" id="main">
    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>(function() {

  "use strict";

  let Trans = {};
  if ( typeof module === "object" &amp;&amp; module &amp;&amp; typeof module.exports === "object" ) {
    Trans = require("../trans.js");
    module.exports = JpnTrans;
  }
  else {
    Trans = window.JsLingua.Cls.Trans;
    //window.JpnTrans = JpnTrans;
    window.JsLingua.addService("Trans", "jpn", JpnTrans);
  }

  let hiragana = [
    "が",
    "ぎ",
    "ぐ",
    "げ",
    "ご",
    "ざ",
    "じ",
    "じ",
    "ず",
    "ぜ",
    "ぞ",
    "だ",
    "ぢ",
    "ぢ",
    "づ",
    "で",
    "ど",
    "ば",
    "び",
    "ぶ",
    "べ",
    "ぼ",
    "ぱ",
    "ぴ",
    "ぷ",
    "ぺ",
    "ぽ",
    "ふぁ",
    "ふぉ",
    "ふぃ",
    "か",
    "き",
    "く",
    "け",
    "こ",
    "た",
    "ち",
    "つ",
    "て",
    "と",
    "さ",
    "し",
    "し",
    "す",
    "せ",
    "そ",
    "な",
    "に",
    "ぬ",
    "ね",
    "の",
    "は",
    "ひ",
    "ふ",
    "へ",
    "ほ",
    "ま",
    "み",
    "む",
    "め",
    "も",
    "や",
    "ゆ",
    "よ",
    "ら",
    "り",
    "る",
    "れ",
    "ろ",
    "わ",
    "を",
    "あ",
    "い",
    "う",
    "え",
    "お",
    "ん",
    "ゃ",
    "ぇ",
    "ゅ",
    "ぃ",
    "ょ"
  ],
  hepburn = [//https://en.wikipedia.org/wiki/Hepburn_romanization
    "ga",
    "gi",
    "gu",
    "ge",
    "go",
    "za",
    "ji",
    "zi",
    "zu",
    "ze",
    "zo",
    "da",
    "ji",
    "di",
    "zu",
    "de",
    "do",
    "ba",
    "bi",
    "bu",
    "be",
    "bo",
    "pa",
    "pi",
    "pu",
    "pe",
    "po",
    "fa",
    "fo",
    "fi",
    "ka",
    "ki",
    "ku",
    "ke",
    "ko",
    "ta",
    "chi",
    "tsu",
    "te",
    "to",
    "sa",
    "shi",
    "si",
    "su",
    "se",
    "so",
    "na",
    "ni",
    "nu",
    "ne",
    "no",
    "ha",
    "hi",
    "fu",
    "he",
    "ho",
    "ma",
    "mi",
    "mu",
    "me",
    "mo",
    "ya",
    "yu",
    "yo",
    "ra",
    "ri",
    "ru",
    "re",
    "ro",
    "wa",
    "wo",
    "a",
    "i",
    "u",
    "e",
    "o",
    "n",
    "xya",
    "xye",
    "xyu",
    "xyi",
    "xyo"
  ],
  loneUnTrans = {
    "ku": "く",
    "su": "す",
    "nu": "ぬ",
    "fu": "ふ",
    "hu": "ふ",
    "mu": "む",
    "yu": "ゆ",
    "ru": "る",
    "gu": "ぐ",
    "zu": "ず",
    "du": "づ",
    "bu": "ぶ",
    "pu": "ぷ"
  },
  wabun = [
    " .-..  .. ",//ga
    " -.-..  .. ",//gi
    " ..-  .. ",//gu
    " -.--  .. ",//ge
    " ----  .. ",//go
    " -.-.-  .. ",//za
    " --.-.  .. ",//ji
    " --.-.  .. ",//ji
    " ---.-  .. ",//zu
    " .---.  .. ",//ze
    " ---.  .. ",//zo
    " -.  .. ",//da
    " ..-.  .. ",//dzi
    " ..-.  .. ",//dzi
    " .--.  .. ",//dzu
    " .-.--  .. ",//de
    " ..-..  .. ",//do
    " -...  .. ",//ba
    " --..-  .. ",//bi
    " --..  .. ",//bu
    " .  .. ",//be
    " -..  .. ",//bo
    " -...  .. ",//pa
    " --..-  ..--. ",//pi
    " --..  ..--. ",//pu
    " .  ..--. ",//pe
    " -..  ..--. ",//po
    "*", //fa
    "*", //fo
    "*", //fi
    " .-.. ",//ka
    " -.-.. ",//ki
    " ...- ",//ku
    " -.-- ",//ke
    " ---- ",//ko
    " -. ",//ta
    " ..-. ",//chi
    " .--. ",//tsu
    " .-.-- ",//te
    " ..-.. ",//to
    " -.-.- ",//sa
    " --.-. ",//shi
    " --.-. ",//shi
    " ---.- ",//su
    " .---. ",//se
    " ---. ",//so
    " .-. ",//na
    " -.-. ",//ni
    " .... ",//nu
    " --.- ",//ne
    " ..-- ",//no
    " -... ",//ha
    " --..- ",//hi
    " --.. ",//fu
    " . ",//he
    " -.. ",//ho
    " -..- ",//ma
    " ..-.- ",//mi
    " - ",//mu
    " -...- ",//me
    " -..-. ",//mo
    " .-- ",//ya
    " -..-- ",//yu
    " -- ",//yo
    " ... ",//ra
    " --. ",//ri
    " -.--. ",//ru
    " --- ",//re
    " .-.- ",//ro
    " -.- ",//wa
    " .--- ",//wo
    " --.-- ",//a
    " .- ",//i
    " ..- ",//u
    " -.--- ",//e
    " .-... ",//o
    " .-.-. ",//n
    " .-- ",//xya
    " -.--- ",//xe
    " -..-- ",//xyu
    " .- ",//xi
    " -- "//xyo
  ];

  /**
   * Japanese transliteration
   *
   * @class JpnTrans
   * @extends Trans
   */
  function JpnTrans() {
    Trans.call(this, "jpn");

    Trans.newMethod.call(this, "Hepburn", hiragana, hepburn);
    Trans.addTransPrePostMethods.call(this, "Hepburn", hepburnPreTrans, shikiPostTrans);
    Trans.addUntransPrePostMethods.call(this, "Hepburn", hepburnPreUntrans, loneCharReplace);

    Trans.newMethod.call(this, "NihonShiki", hiragana, hepburn);
    Trans.addTransPrePostMethods.call(this, "NihonShiki", nihonShikiPreTrans, shikiPostTrans);
    Trans.addUntransPrePostMethods.call(this, "NihonShiki", nihonShikiPreUntrans, loneCharReplace);

    Trans.newMethod.call(this, "KunreiShiki", hiragana, hepburn);
    Trans.addTransPrePostMethods.call(this, "KunreiShiki", kunreiShikiPreTrans, shikiPostTrans);
    Trans.addUntransPrePostMethods.call(this, "KunreiShiki", kunreiShikiPreUntrans, loneCharReplace);

    Trans.newMethod.call(this, "Morse", hiragana, wabun);
    Trans.addTransPrePostMethods.call(this, "Morse", morsePreTrans, morsePostTrans);
    Trans.addUntransPrePostMethods.call(this, "Morse", morsePreUntrans, morsePostUntrans);
  }

  JpnTrans.prototype = Object.create(Trans.prototype);
  JpnTrans.prototype.constructor = JpnTrans;

  function ja2morseNormalize(text) {
    var result = text;
    result = result.replace(/[っ]/gi, "つ");
    //Japanese space
    //result = result.replace(/　/gi, "\t");
    return result;
  }

  function morsePreTrans(text) {
    var result = text;
    //cleaning non supported codes
    result = result.replace(/[.-]/gi, "");
    result = result.replace(/[ ]+/gi, "\t");
    //result = result.replace(/([^\t])([^\t])/gi, "$1 $2");
    result = ja2morseNormalize(result);
    return result;
  }

  function morsePostTrans(text) {
    var result = text;
    result = Trans.specialCharTrans(result);
    result = result.replace(/ +/gi, " ");
    result = result.replace(/\t/gi, "   ");
    //clean non morse characters
    result = result.replace(/[^ .-]/gi, "");

    //Add DO and SN prosigns
    result = "-..---" + result + "...-.";
    return result;
  }

  function morsePreUntrans(text) {
    var result = text;
    //clean non morse characters
    result = result.replace(/[^ .-]/gi, "");
    result = result.replace(/[ ]{3,}/gi, " \t ");
    result = result.replace(/ +/gi, "  ");
    result = result.replace(/^/gi, " ");
    result = result.replace(/$/gi, " ");

    //delete DO and SN prosigns used to specify the beginning and end of wabun
    result = result.replace(/ -\.\.--- /gi, " ");
    result = result.replace(/ \.\.\.-\. /gi, " ");
    return result;
  }

  function morsePostUntrans(text) {
    var result = text;
    result = Trans.specialCharUntrans(result);
    result = result.replace(/ +/gi, "");
    result = result.replace(/\t/gi, "　");
    return result;
  }

  function shikiPreTrans(text) {
    var result = text.replace(/し/gi, "si");
    result = result.replace(/ち/gi, "ti");
    result = result.replace(/つ/gi, "tu");
    result = result.replace(/ふ/gi, "hu");
    result = result.replace(/じ/gi, "zi");
    result = result.replace(/uぉ/gi, "o");
    result = result.replace(/uぁ/gi, "a");
    result = result.replace(/uぃ/gi, "i");
    result = result.replace(/uぇ/gi, "e");
    return result;
  }

  function shikiPreUntrans(text) {
    let result = text;
    //result = result.replace(/([tzs])y/gi, "$1iy");
    result = result.replace(/si/gi, "し");
    result = result.replace(/ti/gi, "ち");
    result = result.replace(/tu/gi, "つ");
    result = result.replace(/hu/gi, "ふ");
    result = result.replace(/zi/gi, "じ");

    /*result = result.replace(/uぉ/gi, "o");
    result = result.replace(/uぁ/gi, "a");
    result = result.replace(/uぃ/gi, "i");
    result = result.replace(/uぇ/gi, "e");*/
    return result;
  }

  function hepburnPreTrans(text) {
    return text.replace(/([しちじぢ])([ゃぇゅょ])/gi, function(match, p1, p2){
      let result = hepburn[hiragana.indexOf(p1)];
      result = result + hepburn[hiragana.indexOf(p2)];
      return result.replace("ixy", "");
    });
  }

  function hepburnPreUntrans(text) {
    var result = doubleReplace(text);
    result = result.replace(/(sh|ch|j)([aeuo])/gi, function(match, p1, p2){
      let key = p1 + "i";
      if (hepburn.indexOf(key) > -1) {
        var result =  hiragana[hepburn.indexOf(key)];
        key = "xy" + p2;
        if (hepburn.indexOf(key) > -1) {
          result += hiragana[hepburn.indexOf(key)];
        }
        return result;
      }
      return match;
    });

    return xya2Jap(result);
  }

  function shikiPostTrans(text) {
    var result = text.replace(/ix/gi, "");
    result = littleTsuPostTrans(result);
    return result;
  }

  function littleTsuPostTrans(text) {
    return text.replace(/(っ+)(.)/gi, function(match, p1, p2) {
      return new Array(2 + p1.length).join(p2);
    });
  }

  function nihonShikiPreUntrans(text) {
    let result = doubleReplace(text);
    result = shikiPreUntrans(result);
    result = result.replace(/di/gi, "ぢ");
    result = result.replace(/du/gi, "づ");
    return xya2Jap(result);
  }

  function nihonShikiPreTrans(text) {
    let result = shikiPreTrans(text);
    result = result.replace(/ぢ/gi, "di");
    result = result.replace(/づ/gi, "du");
    return result;
  }

  /**
   * kunreiShiki pre-transliteration function
   *
   * @method kunreiShikiPreTrans
   * @private
   * @memberof JpnTrans
   * @param  {String} text Japanese text
   * @return {String}      Pre-tranliterated text
   */
  function kunreiShikiPreTrans(text) {
    let result = shikiPreTrans(text);
    result = result.replace(/ぢ/gi, "zi");
    //result = result.replace(/づ/gi, "zu"); //already on hepburn
    return result;
  }

  /**
   * kunreiShiki pre-untransliteration function
   *
   * @method kunreiShikiPreUntrans
   * @private
   * @memberof JpnTrans
   * @param  {String} text Romanized text
   * @return {String}      Pre-untranliterated text
   */
  function kunreiShikiPreUntrans(text) {
    var result = doubleReplace(text);
    result = shikiPreUntrans(result);
    result = result.replace(/zi/gi, "ぢ");
    return xya2Jap(result);
  }


  /**
  * Replace the doubled characters with a little "tsu" if different from "n"
  *
  * @method doubleReplace
  * @private
  * @memberof JpnTrans
  * @param  {String} text The text to be replaced
  * @return {String} The same string but the repeated characters are replaced
  */
  function doubleReplace(text) {
    return text.replace(/(sh|ch|.)\1+/gi, function(match, p1) {
      //vowels are ignored
      if ("aeuio".indexOf(p1) > -1 ) return match;

      var repChar = "っ";

      if (p1 === "n")
        repChar = "ん";
      var repNbr = match.length/p1.length; //Math.floor() match is always a multiple of p1
      var rep = new Array(repNbr).join(repChar);

      return rep + p1;
    });
  }


  /**
   * Transform xya to Japanese little 'tsu' followed by ya
   *
   * @method xya2Jap
   * @private
   * @memberof JpnTrans
   * @param  {string} text Romanized text
   * @return {string}      text with xya transformed to Japanese
   */
  function xya2Jap(text) {
    //var result = text.replace("sh", "し").replace("ch", "ち");
    return text.replace(/(sh|ch|.)y([aeuio])/gi, function(match, p1, p2) {
      var key = p1 + "i";
      if (hepburn.indexOf(key) > -1) {
        var result =  hiragana[hepburn.indexOf(key)];
        key = "xy" + p2;
        if (hepburn.indexOf(key) > -1) {
          result += hiragana[hepburn.indexOf(key)];
        }
        return result;
      }

      return match;

    });
  }


  /**
  * Replace the lone characters with their equivalent + "u"
  *
  * @method loneCharReplace
  * @private
  * @memberof JpnTrans
  * @param  {String} text the text to be replaced
  * @return {String}      The resulted text
  */
  function loneCharReplace(text) {
    return text.replace(/[a-z][う]?/gi, function(x) {
      var key = x;
      if (x.length > 1) {
        if (x === "tう") {
          return "つ";
        }
        key = x[0];
      }

      key += "u";
      var result = "";
      if (key in loneUnTrans) {
        result = loneUnTrans[key];
      }

      if (x.length > 1) {
        result += "う";
      }

      return result;
    });
  }

}());
</code></pre>
        </article>
    </section>




</div>

<footer>
    <img class="logo" src="logo.png" style="width: 50px; height: 50px">
    <div class="footer-text">NHN Entertainment. Frontend Development Lab</div>
</footer>
<script>prettyPrint();</script>
<script src="scripts/jquery.min.js"></script>
<script src="scripts/tui-doc.js"></script>
<script src="scripts/linenumber.js"></script>

    <script>
        var id = '_sub'.replace(/"/g, '_');
        var selectedApi = document.getElementById(id); // do not use jquery selector
        var $selectedApi = $(selectedApi);

        $selectedApi.removeClass('hidden');
        $selectedApi.parent().find('.glyphicon').removeClass('glyphicon-plus').addClass('glyphicon-minus');
        showLnbApi();
    </script>

</body>
</html>
